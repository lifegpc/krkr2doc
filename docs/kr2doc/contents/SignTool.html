<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from SignTool.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>密钥・签名工具</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关参考用标准样式" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="首页" />
</head>
<body>
<h1><a id="id241" name="id241">关于密钥・签名工具</a>
</h1><div class="para"><div>
　密钥・签名工具是用于对发布数据进行简单<a id="id242" name="id242" class="targanchor"><dfn>电子签名</dfn></a>的工具。<br />
　使用电子签名，可以检查文件是否由合法制作者创建，检查文件是否被篡改，以及检查文件是否损坏。<br />
　目前，<a target="main" class="jump" href="FileChkTool.html">文件损坏检查工具</a>使用这种签名。<br />
</div></div>

<h1><a id="id243" name="id243">关于公钥・私钥</a>
</h1><div class="para"><div>
　要使用密钥・签名工具，需要使用该工具创建"<a id="id244" name="id244" class="targanchor"><dfn>公钥</dfn></a>"(public key)和"<a id="id245" name="id245" class="targanchor"><dfn>私钥</dfn></a>"(private key)这两个成对的密钥(<a id="id246" name="id246" class="targanchor"><dfn>密钥对</dfn></a>)。<br />
　所谓密钥，实际上是以下格式的字符串。<br />

<br />
<code class="bq">-----BEGIN&nbsp;PUBLIC&nbsp;KEY-----<br />
MIGJAoGBAJYfPysW57qE3J2ddGWEG+RzXUzFkWa0ct3p7qJfuWDB+52DbfS9qSpw<br />
iTHQ54vl7K35x+WDQdn29cfgJxp9UD3fzY4h6E2ReE9vj4h0FCMK8dpCFnQkOD/M<br />
hDSiXfXz7KmfMXppM0CjofvH+IL7BJ3/GcLFcuEw3hEnzoajIm1TAgMBAAE=<br />
-----END&nbsp;PUBLIC&nbsp;KEY-----<br />
</code>
<br />

　公钥是可以公开的密钥，私钥是不能公开的密钥。<br />
　签名时使用私钥。电子签名是使用该私钥生成的。<br />
　验证签名时使用公钥。私钥和公钥始终是成对的，只有使用相应私钥进行的签名才能通过与该私钥配对的公钥正常验证。<br />
　不知道私钥的人使用其他私钥签名，将无法通过正当的公钥验证签名。从公钥推测私钥是不可能的，因此只有拥有私钥的人才能进行有效签名。<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">注意</span></div>
实际上，当"公钥"被公开时，需要确认该"公钥"是否合法。如果无法确定公钥本身是否合法，电子签名的意义就会减弱。然而，吉里吉里的密钥・签名工具并未考虑到这一点。</div><br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">注意</span></div>
吉里吉里密钥・签名工具使用的加密方式在2.25beta7版本从ECC(椭圆曲线加密)更改为RSA。<br />
吉里吉里密钥・签名工具生成的RSA密钥长度为1024位。此外，私钥不受密码保护。<br />
吉里吉里密钥・签名工具生成的RSA公钥・私钥与其他软件的PEM格式密钥兼容，但使用密钥・签名工具以外工具生成的密钥，或者将密钥・签名工具生成的密钥用于其他软件的情况不在支持范围内。<br />
</div><br />
</div></div>
<h1><a id="id247" name="id247"><a id="id247" name="id247" class="targanchor"><dfn>密钥生成</dfn></a>方法</a>
</h1><div class="para"><div>
<br />
　启动密钥・签名工具(tools文件夹中的krkrsign.exe)时，首先显示的是密钥生成界面。<br />
<img width="375" height="416" alt="sign0.png" src="sign0.png" /><br />
<br />
<br />
<dl>
<dt>"生成"按钮</dt>
<dd>　点击后开始生成密钥对。首先会出现"正在收集熵"的窗口，要求随机移动鼠标，请按照指示操作(这是为了生成不被他人猜测的密钥所必需的)。<br />
　窗口关闭后，生成的密钥对将显示在下方的"生成的公钥"和"生成的私钥"栏中。<br />
</dd>
<dt>生成的公钥</dt>
<dd>　显示生成的公钥。点击旁边的"复制"按钮可以将密钥复制到剪贴板。</dd>
<dt>生成的私钥</dt>
<dd>　显示生成的私钥。点击旁边的"复制"按钮可以将密钥复制到剪贴板。<br />
　出于安全考虑，关闭此窗口时剪贴板内容将被清除，请注意。<br />
</dd></dl></div></div>

<h1><a id="id248" name="id248"><a id="id248" name="id248" class="targanchor"><dfn>签名</dfn></a>方法</a>
</h1><div class="para"><div>
<br />
　点击"签名"选项卡，将显示签名界面。<br />
<img width="375" height="416" alt="sign1.png" src="sign1.png" /><br />
<br />
<br />
<dl>
<dt>私钥</dt>
<dd>　请指定私钥。</dd>
<dt>目标文件</dt>
<dd>　可以指定要签名的目标文件。<br />
　点击"浏览"按钮，将打开文件浏览对话框，请指定目标文件。<br />
　也可以通过将目标文件拖放到此窗口来指定目标文件(当前版本不支持一次签名多个文件)。<br />
</dd>
<dt>"签名"按钮</dt>
<dd>　对目标文件进行签名。<br />
　签名文件的文件名为目标文件的文件名加上扩展名.sig，但作为例外，如果是吉里吉里本体，则签名将嵌入到本体中。<br />
</dd></dl></div></div>
<h1><a id="id249" name="id249"><a id="id249" name="id249" class="targanchor"><dfn>签名验证</dfn></a>方法</a>
</h1><div class="para"><div>
<br />
　点击"签名验证"选项卡，将显示签名验证界面。<br />
<img width="375" height="416" alt="sign2.png" src="sign2.png" /><br />
<br />
<br />
<dl>
<dt>公钥</dt>
<dd>　请指定公钥。</dd>
<dt>目标文件</dt>
<dd>　可以指定要验证签名的目标文件。<br />
　点击"浏览"按钮，将打开文件浏览对话框，请指定目标文件。<br />
　也可以通过将目标文件拖放到此窗口来指定目标文件(当前版本不支持使用此工具一次验证多个文件的签名)。<br />
</dd>
<dt>"检查"按钮</dt>
<dd>　验证目标文件的签名。<br />
　结果将通过消息框通知。</dd></dl></div></div>

<h1><a id="id250" name="id250">命令行使用方法</a>
</h1><div class="para"><div>
　通过命令行使用密钥・签名工具，可以对文件进行签名。这在与make等工具组合使用时很方便。<br />
　使用以下格式指定：<br />

<br />
<code class="bq">krkrsign&nbsp;-sign&nbsp;"目标文件名"&nbsp;"私钥文件名"</code>
<br />

私钥文件名指定保存为文本的私钥文件。<br />
例如，要对game.eXe进行签名，使用：<br />

<br />
<code class="bq">krkrsign&nbsp;-sign&nbsp;"game.eXe"&nbsp;"key.priv"</code>
<br />

　一次调用只能对一个文件进行签名。</div></div>



	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
