<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from CommandLine.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>命令行选项</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关参考标准样式" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="首页" />
</head>
<body>
<h1><a id="id3" name="id3">命令行选项</a>
</h1><div class="para"><div>
　吉里吉里的命令行选项除了可以通过常规命令行指定外，还可以使用<a target="main" class="jump" href="Releaser.html">Releaser</a>（krkrrel.exe）或<a target="main" class="jump" href="Configure.html">吉里吉里设置</a>（krkrconf.exe或引擎设置.exe）保存到配置文件中。<br />
选项的加载顺序为<ol>  <li>嵌入在吉里吉里本体中的选项</li>  <li>"吉里吉里设置"(krkrconf.exe)输出的、与吉里吉里核心在同一目录下的.cf文件（文件名与吉里吉里核心相同）</li>  <li>"引擎设置"(引擎设置.exe)输出的、位于数据保存位置的.cfu文件（文件名与吉里吉里核心相同）</li>  <li>命令行中指定的选项</li></ol>。关于.cf文件和.cfu文件，如果不存在则会被忽略。后加载的设置优先级更高。目前，由于没有可以将选项嵌入吉里吉里本体的工具，所以不会从吉里吉里本体读取选项内容（但是，有些无法从命令行指定的特殊选项可能会嵌入到吉里吉里本体中）。<br />
<br />
　命令行选项基本上是在'-'（连字符）后面跟着选项名。然后接着写'='，再写选项的值。<br />
　例如，如果-cdvol选项的值是direct，则指定为-cdvol=direct。<br />
<br />
　除了"启动选项"、"调试相关选项"和"系统兼容性相关选项"外，大多数选项是用于解决环境依赖问题的微调选项。<br />
　关于解决环境依赖问题，请参阅<a target="main" class="jump" href="ComputerDependentProblems.html">关于环境依赖的缺陷</a>。<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
在Releaser或krkrconf.exe（引擎设置.exe）中，可以通过修改吉里吉里的可执行文件或外部配置文件来更改这些选项，但通常默认设置就没有问题。<em>不建议以作品制作方特有环境下的问题为由，将这些选项更改为非默认值后，将可执行文件或配置文件公开分发</em>（当然，有些选项如-datapath应根据分发形式和使用形式进行配置）。</div><br />
<br />
下列选项中标有"可动态更改"的项目可以通过<a class="jump" href="f_System_setArgument.html">System.setArgument</a>方法进行更改。其他选项无法动态更改。<br />
</div></div>


<h1><a id="id4" name="id4">启动选项</a>
</h1><div class="para"><div>
　以下选项用于调用吉里吉里的特定功能。<br />
<dl>
<dt>-<a id="id5" name="id5" class="targanchor"><dfn>userconf</dfn></a>（启动终端用户设置工具）</dt>
<dd>　启动内置的终端用户设置工具。<br />
　引擎设置.exe是一个程序，它会在引擎设置.exe相同文件夹中查找吉里吉里可执行文件，然后自动附加-userconf选项启动该程序。</dd>
<dt>-<a id="id6" name="id6" class="targanchor"><dfn>about</dfn></a>（显示版权信息对话框）</dt>
<dd>　显示"版本·版权·环境信息"对话框。</dd>
<dt>-<a id="id7" name="id7" class="targanchor"><dfn>nosel</dfn></a>（测试模式）</dt>
<dd>　不显示"文件夹/归档选择"对话框，也不自动检测data.xp3等数据，直接启动吉里吉里控制器。用于调试和测试用途。</dd>
<dt>-<a id="id8" name="id8" class="targanchor"><dfn>sel</dfn></a>（显示"文件夹/归档选择"对话框）</dt>
<dd>　显示"文件夹/归档选择"对话框。不会自动检测data.xp3等数据。<br />
　如果在命令行参数中（不带连字符前缀）指定文件夹，可以在打开"文件夹/归档选择"对话框时，以该文件夹作为初始选择状态。</dd>
<dt>-<a id="id9" name="id9" class="targanchor"><dfn>printdatapath</dfn></a>（输出数据保存位置）</dt>
<dd>　将数据保存位置（-datapath选项）的设置内容和换行输出到标准输出，然后退出。此选项供与吉里吉里本体配合管理存档数据的外部应用程序使用。<br />
　数据保存位置中的特殊字符串如$(exepath)等将会在替换后的状态下输出。<br />
　由于吉里吉里本体是GUI应用程序，从命令提示符仅指定-printdatapath选项启动吉里吉里可执行文件不会显示任何内容。要获取输出内容，请使用管道或重定向。<br />
</dd></dl></div></div>
<h1><a id="id10" name="id10">系统通用选项</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id11" name="id11" class="targanchor"><dfn>datapath</dfn></a>（数据保存位置）</dt>
<dd>　设置吉里吉里保存各种数据的位置（文件夹）。<br />
　可设置的值通过字符串指定。<br />
　可以直接以完整路径指定文件夹名，但通常会嵌入以下特殊字符串使用。<br />
<br />
<dl> 
<dt>$(exepath)</dt>
 <dd>替换为System.exePath（吉里吉里核心所在的文件夹名）。</dd> 
<dt>$(appdatapath)</dt>
 <dd>替换为System.appDataPath（用户主文件夹）。此文件夹通常是隐藏文件夹。</dd> 
<dt>$(personalpath)</dt>
 <dd>替换为System.personalPath（我的文档文件夹）。</dd> 
<dt>$(vistapath)</dt>
 <dd>在Vista及以上系统中替换为$(appdatapath)，在Vista以下系统中替换为$(exepath)。</dd></dl><br />
默认值为"$(exepath)\savedata"。这种设置适用于不使用特定安装程序，而是通过zip等压缩文件打包分发程序，用户解压后立即执行的分发方式。<br />
但是，使用这个默认设置时，如果将程序放在Program Files下，在没有Program Files写入权限的Windows XP等"限制用户"下启动程序，可能会因无法写入文件而产生错误。<br />
将其设置为"$(appdatapath)\应用程序名"或"$(personalpath)\应用程序名"可以避免此类问题，因为数据会写入用户文件夹，但这可能会使存档数据位置不易察觉，让用户感到困惑。<br />
<br />
此选项指定的数据保存位置将在吉里吉里启动时尝试创建（如果不存在）。即使创建失败也会继续处理，所以错误处理应该在用户脚本中进行（通过捕获数据无法保存等异常）。<br />
<br />
在"引擎设置"中所做的设置将保存在此数据保存位置指定的文件夹中。此外，各种日志也默认保存在这个文件夹中。<br />
</dd>
<dt>-<a id="id12" name="id12" class="targanchor"><dfn>contfreq</dfn></a>（处理等待）</dt>
<dd>　设置是否在转场等处理过程中以指定频率添加等待时间以降低CPU使用率。<br />
　可设置的值为<em>'0'（不添加等待）</em>或正整数，不指定此选项则视为指定了'0'。指定正整数时，表示以Hz为单位的频率。<br />
　受此选项影响的是转场效果和通过System.addContinuousHandler注册的Continuous处理程序。<br />
　设为'0'时，在执行转场等操作时会占用全部CPU进行处理。<br />
　指定数值后，处理将以该频率进行，剩余时间CPU将空闲。这可以减少对其他应用程序的影响，抑制CPU温度上升和计算机功耗。数值越低，这种效果越明显。但是，指定过低的数值可能会使转场效果不够平滑。<br />
　使用waitvsync选项等待垂直同步时，Continuous处理程序将根据垂直同步时机驱动，contfreq选项的设置将被忽略。<br />
　此选项可以动态更改，但变更将在下次转场或Continuous处理程序操作暂停时生效。<br />
</dd>



<dt>-<a id="id13" name="id13" class="targanchor"><dfn>memusage</dfn></a>（内存使用量）</dt>
<dd>　设置内存使用量。<br />
　可设置的值为<em>'normal'（正常）</em>或<em>'low'（低）</em>，不指定此选项则视为指定了'normal'。<br />
　选择"低"时，内存使用比选择"正常"时更节约。但是选择"低"时，吉里吉里内部的各种缓存机制会受到限制，TJS2的哈希表大小也会受限，导致性能下降。另外，选择"低"时，"图形-图像缓存限制"将被强制视为"不进行缓存"设置。</dd>
<dt>-<a id="id14" name="id14" class="targanchor"><dfn>timerprec</dfn></a>（定时器精度）</dt>
<dd>　设置定时器精度的高低。<br />
　可设置的值为<em>'normal'（正常）</em>、<em>'higher'（较高）</em>或<em>'high'（高）</em>，不指定此选项则视为指定了'normal'。<br />
　此选项仅在NT系统（NT/2000/XP/Vista/7）中有意义。在Win9x系统（95/98/98SE/ME）中将忽略此选项。<br />
　指定'higher'或'high'可提高定时器（包括大多数与时间和时机相关的功能）的整体精度，可能改善KAG文字显示的卡顿感或MIDI播放的卡顿感，但也可能降低性能。</dd>
<dt>-<a id="id15" name="id15" class="targanchor"><dfn>laxtimer</dfn></a>（定时器事件限制）</dt>
<dd>　设置是否限制系统一次存储的定时器事件数（最大发生允许量），以避免定时器事件堆积过多而无法处理的情况。<br />
　可设置的值为<em>'no'（不限制）</em>或<em>'yes'（限制）</em>，不指定此选项则视为指定了'no'。<br />
　在处理非常慢的计算机上，或者通过定时器驱动非常重的处理操作时，可能无法及时响应定时器生成的事件，导致吉里吉里对操作等反应迟钝。指定'yes'会将系统存储的定时器事件最大允许量固定为1（Timer类的capacity属性为1的状态）。这可以抑制系统无法处理的定时器事件的产生，但通常会损失定时器的精度和准确性。<br />
</dd>
<dt>-<a id="id16" name="id16" class="targanchor"><dfn>lowpri</dfn></a>（低优先级）</dt>
<dd>　设置是否在转场等期间降低优先级。<br />
　可设置的值为<em>'no'（不降低）</em>或<em>'yes'（降低）</em>，不指定此选项则视为指定了'no'。<br />
　设为'yes'时，在转场执行过程等吉里吉里主线程连续使用CPU的场景中，会降低主线程的执行优先级。这可能改善转场过程中的声音中断或在转场过程中难以操作其他应用程序等问题。</dd>


</dl>

</div></div>
<h1><a id="id17" name="id17">输入相关选项</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id18" name="id18" class="targanchor"><dfn>wheel</dfn></a>（鼠标滚轮旋转检测方法）</dt>
<dd>　设置如何检测鼠标滚轮的旋转。<br />
　可设置的值为<em>'no'（不使用）</em>、<em>'dinput'（DirectInput）</em>或<em>'message'（窗口消息）</em>，不指定此选项则视为指定了'dinput'。<br />
　选择"不使用"将禁用鼠标滚轮。选择"DirectInput"将使用DirectInput。选择"窗口消息"将不使用DirectInput检测鼠标滚轮旋转。更改设置可能改善鼠标滚轮相关的问题。</dd>
<dt>-<a id="id19" name="id19" class="targanchor"><dfn>joypad</dfn></a>（使用手柄）</dt>
<dd>　设置是否使用游戏手柄（摇杆）。<br />
　可设置的值为<em>'no'（不使用）</em>或<em>'dinput'（使用）</em>，不指定此选项则视为指定了'dinput'。<br />
　选择"不使用"将禁用手柄。如果无法正常检测或使用手柄，请选择"不使用"。</dd>

<dt>-<a id="id20" name="id20" class="targanchor"><dfn>paddelay</dfn></a>（手柄按键重复延迟）</dt>
<dd>　以毫秒为单位指定游戏手柄（摇杆）按键重复前的时间。<br />
　可设置的值为正数或-1，指定-1将不进行按键重复。不指定此选项则视为指定了500。<br />
　此选项可动态更改。</dd>

<dt>-<a id="id21" name="id21" class="targanchor"><dfn>padinterval</dfn></a>（手柄按键重复间隔）</dt>
<dd>　以毫秒为单位指定手柄（摇杆）按键重复的间隔。值越小，重复速度越快。<br />
　可设置的值为正数，不指定此选项则视为指定了30。<br />
　此选项可动态更改。</dd>

<dt>-<a id="id22" name="id22" class="targanchor"><dfn>controlime</dfn></a>（IME状态控制）</dt>
<dd>　设置是否控制IME（日语等的转换输入软件）的状态（启用或禁用等控制）。<br />
　可设置的值为<em>'yes'（控制）</em>或<em>'no'（不控制）</em>，不指定此选项则视为指定了'yes'。<br />
　选择"不控制"可能避免"无法通过IME输入日语等语言"的问题。<br />
</dd></dl></div></div>
<h1><a id="id23" name="id23">声音相关选项</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id24" name="id24" class="targanchor"><dfn>cdvol</dfn></a>（CD-DA音量控制方法）</dt>
<dd>　设置CD-DA音量控制方式。<br />
　可设置的值为<em>'mixer'（声卡混音器）</em>或<em>'direct'（CD-ROM驱动器直接控制）</em>，不指定此选项则视为指定了'mixer'。<br />
　指定'mixer'将通过操作声卡混音器来改变CD-DA音量。需要声卡适当地位于CD-ROM驱动器到人耳的路径中。<br />
　指定'direct'将使用CD-ROM驱动器自身的音量控制功能来改变音量。即使从CD-ROM驱动器的耳机接口直接连接耳机等也可以控制音量，但某些CD-ROM驱动器可能不支持此功能。</dd>
<dt>-<a id="id25" name="id25" class="targanchor"><dfn>wsdecpri</dfn></a>（PCM解码线程优先级）</dt>
<dd>　设置PCM解码线程的优先级。<br />
　可设置的值为<em>'0'（闲置（最低））</em>、<em>'1'（低）</em>、<em>'2'（低于正常）</em>、<em>'3'（正常）</em>、<em>'4'（高于正常）</em>、<em>'5'（高）</em>之一，不指定此选项则视为指定了'1'。<br />
　提高优先级可能减少PCM（未压缩wave或OggVorbis等）播放中的声音中断，但可能使转场不够平滑或降低操作响应性。<br />
　这里指定的是正常情况下的解码优先级，在紧急情况（缓冲区中剩余数据变少时）会自动确保必要的优先级。</dd>
<dt>-<a id="id26" name="id26" class="targanchor"><dfn>wssoft</dfn></a>（DirectSound软件混音）</dt>
<dd>　设置是否使用软件进行DirectSound混音。<br />
　可设置的值为<em>'yes'（使用软件混音）</em>或<em>'no'（不使用软件混音）</em>之一，不指定此选项则视为指定了'yes'。<br />
　标准设置下，使用软件混音会增加CPU负载，但可能避免硬件特有的问题。如果指定'no'（使用硬件混音）也没有问题，可能会降低CPU负载。USB音频或廉价声卡可能总是在CPU上进行混音，这种情况下更改此选项可能没有影响。</dd>
<dt>-<a id="id27" name="id27" class="targanchor"><dfn>wsrecreate</dfn></a>（DirectSound二级缓冲区重新创建）</dt>
<dd>　设置是否总是重新创建DirectSound二级缓冲区。<br />
　可设置的值为<em>'yes'（总是重新创建）</em>或<em>'no'（根据需要重新创建）</em>之一，不指定此选项则视为指定了'no'。<br />
　吉里吉里会在通道数和采样率等条件相同时重用已创建的二级缓冲区，但指定'yes'将不再重用而总是重新创建。根据环境，这可能改善播放开始时的声音中断或切断等不稳定问题。</dd>
<dt>-<a id="id28" name="id28" class="targanchor"><dfn>wsl1len</dfn></a>（DirectSound二级缓冲区长度）</dt>
<dd>　设置DirectSound二级缓冲区的长度。<br />
　可设置的值为整数，以毫秒为单位指定。最少需要250ms。不指定此选项则视为指定了1000。<br />
　这里指定的是实际作为DirectSound二级缓冲区分配的缓冲区长度。<br />
　一般来说，设置得越长播放越稳定，但会消耗更多内存。</dd>
<dt>-<a id="id29" name="id29" class="targanchor"><dfn>wsl2len</dfn></a>（DirectSound二级辅助缓冲区长度）</dt>
<dd>　设置DirectSound二级缓冲区的二级辅助缓冲区长度。<br />
　可设置的值为整数，以毫秒为单位指定。最少需要250ms。不指定此选项则视为指定了1000。<br />
　吉里吉里会为每个DirectSound二级缓冲区创建辅助缓冲区，将解码的数据积累在这个辅助缓冲区中，然后再转移到二级缓冲区。这里指定的是该辅助缓冲区的长度。<br />
　通常，解码处理和向辅助缓冲区的积累是在低优先级线程中进行的，而从辅助缓冲区到二级缓冲区的转移是在高优先级线程中进行的。<br />
　一般来说，设置得越长播放越稳定，但会消耗更多内存。另外，对解码处理进行改变的控制，从实际发声到效果体现的延迟也会变长。</dd>
<dt>-<a id="id30" name="id30" class="targanchor"><dfn>wsmute</dfn></a>（DirectSound静音）</dt>
<dd>　设置当应用程序非活动或最小化时，DirectSound是否静音（降低音量）。<br />
　可设置的值为<em>'never'（不静音）</em>、<em>'minimize'（最小化时）</em>或<em>'deactive'（非活动时）</em>之一，不指定此选项则视为指定了'never'。<br />
　选择'never'不会进行静音。选择'minimize'或'deactive'会在应用程序最小化或变为非活动状态时静音。<br />
　只有通过WaveSoundBuffer播放的声音（在KAG中使用'Wave'作为BGM和音效）会被静音，MIDI或CDDA播放不会被静音。</dd>
<dt>-<a id="id31" name="id31" class="targanchor"><dfn>wsmutevol</dfn></a>（DirectSound静音音量）</dt>
<dd>　设置-wsmute（DirectSound静音）选项静音时的音量。<br />
　可设置的值为整数，以%为单位指定。<br />
　指定"0%"将完全静音，指定"50%"将音量降为一半（约-6dB）。<br />
</dd>

<dt>-<a id="id32" name="id32" class="targanchor"><dfn>wsforcecnv</dfn></a>（DirectSound强制格式转换）</dt>
<dd>　设置是否将送往DirectSound播放的PCM数据强制转换为指定格式。<br />
　可设置的值为<em>'none'（不转换）</em>、<em>'i16'（转换为16位整数）</em>或<em>'i16m'（转换为16位整数单声道）</em>之一，不指定此选项则视为指定了'none'。<br />
　更改设置可能改善播放障碍。选择'i16m'将忽略-wsexpandquad选项（DirectSound强制4声道播放）的设置。</dd>
<dt>-<a id="id33" name="id33" class="targanchor"><dfn>wsuse3d</dfn></a>（DirectSound 3D控制）</dt>
<dd>　设置DirectSound是否进行3D控制。<br />
　可设置的值为<em>'no'（不进行）</em>或<em>'yes'（进行）</em>之一，不指定此选项则视为指定了'no'。<br />
　选择'yes'将启用声音的3D控制，WaveSoundBuffer.posX、WaveSoundBuffer.posY、WaveSoundBuffer.posZ属性将生效（这些属性在当前版本中已实现但不受支持）。<br />
　在大多数环境中，选择'yes'后，DirectSound3D会将立体声或单声道声音扩展到环绕声扬声器上播放（例如，原本只在前置扬声器播放的声音将在5.1声道环境的所有扬声器上播放）。<br />
　选择'yes'将忽略-wsexpandquad选项（DirectSound强制4声道播放）的设置。</dd>


<dt>-<a id="id34" name="id34" class="targanchor"><dfn>wsexpandquad</dfn></a>（DirectSound强制4声道播放）</dt>
<dd>　设置DirectSound播放立体声或单声道声音时，是否强制使用包括后置扬声器在内的4声道播放。<br />
　可设置的值为<em>'no'（不强制）</em>或<em>'yes'（强制）</em>之一，不指定此选项则视为指定了'no'。<br />
　设置为'yes'后，即使在立体声或单声道声音只在前置扬声器播放的环境中，也可以同时在前置和后置扬声器上播放声音。</dd>
<dt>-<a id="id35" name="id35" class="targanchor"><dfn>wsfreq</dfn></a>（DirectSound主缓冲区频率）</dt>
<dd>　设置DirectSound主缓冲区的播放频率。<br />
　可设置的值为正整数，以Hz为单位表示频率，不指定此选项则视为指定了'44100'。<br />
　特别是在使用WDM系列声音驱动的环境（Windows2000、XP及以上等）中，更改设置可能不会对播放状态产生变化。</dd>
<dt>-<a id="id36" name="id36" class="targanchor"><dfn>wsbits</dfn></a>（DirectSound主缓冲区位数）</dt>
<dd>　设置DirectSound主缓冲区的播放位数。<br />
　可设置的值为<em>'i8'（8位整数）</em>、<em>'i16'（16位整数）</em>、<em>'i24'（24位整数）</em>、<em>'i32'（32位整数）</em>或<em>'f32'（32位浮点数）</em>，不指定此选项则视为指定了'i16'。<br />
　特别是在使用WDM系列声音驱动的环境（Windows2000、XP及以上等）中，更改设置可能不会对播放状态产生变化。</dd>
<dt>-<a id="id37" name="id37" class="targanchor"><dfn>wscontrolpri</dfn></a>（DirectSound主缓冲区播放控制）</dt>
<dd>　设置是否对DirectSound主缓冲区进行播放/停止控制。<br />
　可设置的值为<em>'yes'（进行）</em>或<em>'no'（不进行）</em>之一，不指定此选项则视为指定了'yes'。<br />
　在某些环境中更改设置可能会改善声音中断或切断问题。</dd>
<dt>-<a id="id38" name="id38" class="targanchor"><dfn>wspritry</dfn></a>（DirectSound主缓冲区设置尝试级别）</dt>
<dd>　设置指定DirectSound主缓冲区格式时尝试多少种设置。<br />
　可设置的值为<em>'0'～'2'（级别0～级别2）</em>或<em>'all'（所有）</em>之一，不指定此选项则视为指定了'all'。<br />
　指定级别0将尝试设置立体声16位整数格式。<br />
　指定级别1将在尝试级别0之前，尝试根据系统扬声器设置的通道数，使用16位整数格式进行设置。<br />
　指定级别2将在尝试级别1之前，尝试使用"DirectSound主缓冲区位数"指定的位数，根据系统扬声器设置的通道数，通过WAVEFORMATEX结构体设置格式。<br />
　指定"所有"将在尝试级别2之前，尝试使用与级别2相同的设置，但通过WAVEFORMATEXTENSIBLE结构体指定格式。</dd></dl></div></div>
<h1><a id="id39" name="id39">图形相关选项</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id40" name="id40" class="targanchor"><dfn>gclim</dfn></a>（图像缓存限制）</dt>
<dd>　设置图像缓存使用的内存最大值。<br />
　可设置的值为<em>'auto'（自动）</em>或整数值，指定整数值时以MB为单位设置图像缓存使用的内存。不指定此选项则视为指定了'auto'。<br />
　吉里吉里具有缓存机制，可以快速访问已加载的图像。此选项指定用于该功能的内存限制值。<br />
　指定'auto'将根据计算机的物理内存量自动决定值。<br />
　指定'0'将不进行缓存。<br />
　如果在吉里吉里运行过程中频繁发生交换，可以将此值设置得更小或设为'0'来改善情况。</dd>
<dt>-<a id="id41" name="id41" class="targanchor"><dfn>fsmethod</dfn></a>（全屏切换方法）</dt>
<dd>　设置全屏切换使用的方法。<br />
　可设置的值为<em>'ddraw'（DirectDraw）</em>或<em>'cds'（ChangeDisplaySettings API）</em>之一，不指定此选项则视为指定了'ddraw'。<br />
　更改设置可能改善全屏切换相关问题。即使指定了'ddraw'，如果因某种原因无法使用DirectDraw，也会自动使用ChangeDisplaySettings API。<br />
　此选项可动态更改，但值将在下次尝试全屏时生效。<br />
</dd>
<dt>-<a id="id42" name="id42" class="targanchor"><dfn>fsbpp</dfn></a>（全屏时的颜色模式）</dt>
<dd>　设置全屏时的颜色模式。<br />
　可设置的值为<em>'nochange'（不改变）</em>、<em>'16'（16位色）</em>、<em>'24'（24位色）</em>或<em>'32'（32位色）</em>之一，不指定此选项则视为指定了'nochange'。<br />
　指定'nochange'将使用与非全屏时相同的颜色模式。<br />
　此选项可动态更改，但值将在下次尝试全屏时生效。<br />
</dd>
<dt>-<a id="id43" name="id43" class="targanchor"><dfn>fsres</dfn></a>（全屏时的屏幕分辨率）</dt>
<dd>　设置全屏时的屏幕分辨率。<br />
　可设置的值为<em>'auto'（自动）</em>、<em>'proportional'（相同宽高比的分辨率）</em>、<em>'nearest'（最接近的分辨率）</em>或<em>'nochange'（不改变分辨率）</em>之一，不指定此选项则视为指定了'auto'。<br />
　选择'auto'将自动选择最合适的屏幕分辨率。在这种情况下，如果有与程序中指定分辨率宽高比相同且能够匹配的分辨率，将选择该分辨率；如果没有这样的分辨率，将不改变分辨率而由引擎进行放大显示。使用此设置时，即使在-fszoom（全屏时引擎放大显示）选项中指定了'no'（不放大），也会被视为'outer'（填满显示器）。<br />
　选择'proportional'将从与非全屏时宽高比相同的分辨率中，选择不小于程序中指定分辨率且最接近的分辨率。<br />
　选择'nearest'将选择不小于程序中指定分辨率且最接近的分辨率，但不保证选择的分辨率与非全屏时具有相同的宽高比。在CRT显示器或支持保持屏幕宽高比放大显示的LCD显示器上，这种设置可能更合适。<br />
　选择'nochange'将保持非全屏时的分辨率不变。<br />
　此选项可动态更改，但值将在下次尝试全屏时生效。<br />
</dd>
<dt>-<a id="id44" name="id44" class="targanchor"><dfn>fszoom</dfn></a>（全屏时的引擎放大显示）</dt>
<dd>　指定全屏时引擎如何进行屏幕放大。<br />
　可设置的值为<em>'inner'（适应显示器内部）</em>、<em>'outer'（填满显示器）</em>或<em>'no'（不放大）</em>之一，不指定此选项则视为指定了'inner'。<br />
　选择'inner'时，如有必要，引擎将进行放大。必要的情况是屏幕分辨率与程序中指定的分辨率不同时（如果屏幕分辨率低于程序中指定的分辨率，则为缩小处理）。此时，会保持程序中指定的分辨率的宽高比进行放大，但如果显示器的宽高比与此不同，可能会在上下或左右出现空隙。这些空隙始终显示为纯黑色。<br />
　指定'outer'时，与指定'inner'一样，在必要时引擎会进行放大。但与'inner'不同，当显示器的宽高比与程序中指定的宽高比不同时，会尽可能放大以避免上下或左右出现空隙。这样不会有空隙，但屏幕可能会超出显示器范围。使用此设置可以在16:10显示器上显示16:9内容时，无需空隙地最大化显示。当然，这会导致左右出现超出区域，因此在制作此类显示内容时，需要采取措施，如不在超出部分显示重要UI或文字。<br />
　选择'no'时，即使必要，引擎也不会进行放大。在这种情况下，即使屏幕分辨率与程序中指定的分辨率不同，引擎也不会进行放大（结果可能会在屏幕中央显示小图像）。<br />
　当显示器的原始分辨率与图形卡输出的信号分辨率不同时，LCD显示器等可能会在显示器端进行放大显示，但如果在显示器端放大后再由引擎进行放大显示，将导致双重放大，可能使图像质量变差（-fsres的"自动"选项会自动选择避免这种双重放大显示的组合）。<br />
　放大显示处理受-dbstyle（双缓冲）选项影响。如果速度异常慢，请尝试更改-dbstyle选项的设置。<br />
　此选项可动态更改，但值将在下次尝试全屏时生效。<br />
</dd>

<dt>-<a id="id45" name="id45" class="targanchor"><dfn>gsplit</dfn></a>（图像运算分割处理）</dt>
<dd>　设置是否对图像运算进行细分处理。<br />
　可设置的值为<em>'yes'（进行）</em>、<em>'int'（隔行分割）</em>、<em>'bidi'（双向分割）</em>或<em>'no'（不进行）</em>之一，不指定此选项则视为指定了'yes'。<br />
　吉里吉里为了有效利用CPU的内存缓存，在绘制图像时会将运算分割成小区域进行。根据环境，这可能导致屏幕闪烁。在这种环境中，指定'no'可能抑制闪烁，但可能降低绘制性能。启用双缓冲时，分割处理的意义减弱，建议保持分割处理设置。<br />
　指定'int'将隔行处理图像运算单元，但屏幕更新时可能会出现条纹。选择'bidi'将使图像运算顺序在上→下和下→上之间交替（'yes'时始终为上→下）。</dd>
<dt>-<a id="id46" name="id46" class="targanchor"><dfn>usedb</dfn></a>（是否使用双缓冲）</dt>
<dd>　设置显示图像时是否使用双缓冲。<br />
　可设置的值为<em>'yes'（使用）</em>或<em>'no'（必要时以外不使用）</em>之一，不指定此选项则视为指定了'no'。<br />
　设置为使用双缓冲后，图像会先绘制到另一个位置（离屏位图），在完成整个屏幕的更新内容绘制后，一次性传输到显示区域。这可能减少屏幕闪烁，但会降低绘制性能。<br />
　不使用双缓冲时，每个分割区域的图像运算完成时，会立即依次传输到显示区域。<br />
　此外，在使用Window.setZoom等进行显示内容放大或使用-fsres选项让吉里吉里进行缩放处理时，也会使用双缓冲。<br />
　使用双缓冲时，将waitvsync选项也设为'yes'（启用）可能进一步抑制闪烁。<br />
　此选项可动态更改，但不保证立即生效。<br />
</dd>
<dt>-<a id="id47" name="id47" class="targanchor"><dfn>dbstyle</dfn></a>（双缓冲方式）</dt>
<dd>　设置显示图像时进行双缓冲的方式。<br />
　可设置的值为<em>'auto'（自动）</em>、<em>'gdi'（使用GDI）</em>、<em>'ddraw'（使用DirectDraw）</em>或<em>'d3d'（使用Direct3D）</em>之一，不指定此选项则视为指定了'auto'。<br />
　双缓冲根据离屏位图的分配位置有三种方式：使用GDI、使用DirectDraw和使用Direct3D。<br />
　选择'auto'时，会花费约0.6秒的时间进行基准测试，以决定使用DirectDraw还是Direct3D，并选择更快的一种。根据图形卡功能，有些情况下DirectDraw或Direct3D可能无法使用smoothzoom选项指定的方式进行平滑处理，这种情况会从候选中排除。GDI双缓冲的性能通常远低于DirectDraw和Direct3D，不会被自动选择，但如果DirectDraw和Direct3D都无法使用，会自动使用GDI。<br />
　这个基准测试会在窗口显示后、切换到全屏后或从全屏恢复后自动进行。<br />
　根据环境，自动选择的方法可能无法正确显示屏幕。在这种情况下，需要使用此选项明确选择方式。<br />
　此选项可动态更改，但不保证立即生效。<br />
</dd>
<dt>-<a id="id48" name="id48" class="targanchor"><dfn>smoothzoom</dfn></a>（放大显示时的平滑处理）</dt>
<dd>　设置在使用Window.setZoom等放大显示内容或使用-fsres选项让吉里吉里进行屏幕放大（缩小）显示时，是否进行平滑处理（放大时的插值）（与Layer.affineCopy等的放大缩小无关）。<br />
　可设置的值为<em>'no'（不进行）</em>或<em>'yes'（进行）</em>之一，不指定此选项则视为指定了'yes'。<br />
　进行平滑处理使图像更加平滑，但会略显模糊。不进行平滑处理使图像更加锐利，但锯齿会更加明显。<br />
　当dbstyle选项为auto时，此设置可能会改变所使用的方式。<br />
　根据环境，不进行平滑处理反而可能降低性能。此外，某些环境可能不支持平滑处理。<br />
　某些第三方绘图设备（通过Window.drawDevice属性设置的设备）可能不受此选项影响。<br />
　此选项可动态更改，但不保证立即生效。<br />
</dd>


<dt>-<a id="id49" name="id49" class="targanchor"><dfn>waitvsync</dfn></a>（垂直同步等待）</dt>
<dd>　设置在转场（画面切换）等操作时是否等待显示器的垂直同步后再绘制。<br />
　可设置的值为<em>'yes'（等待）</em>或<em>'no'（不等待）</em>之一，不指定此选项则视为指定了'no'。<br />
　指定'yes'可能抑制屏幕闪烁，但可能降低绘制性能。<br />
　使用此选项进行垂直同步等待时，Continuous处理程序将根据垂直同步时机驱动，contfreq选项的设置将被忽略。<br />
　此选项可动态更改。<br />
</dd>
<dt>-<a id="id50" name="id50" class="targanchor"><dfn>aamethod</dfn></a>（抗锯齿文字绘制方式）</dt>
<dd>　设置抗锯齿文字绘制方法。<br />
　可设置的值为<em>'auto'（自动）</em>、<em>'res4'（4×4重采样）</em>、<em>'res8'（8×8重采样）</em>或<em>'api'（Windows API）</em>之一，不指定此选项则视为指定了'auto'。<br />
　'auto'在当前版本中会在WindowsNT系列操作系统上自动选择'api'，在Win9x系列操作系统上自动选择'res8'。<br />
　'res4'或'res8'会以数倍大小（4×4或8×8）绘制文字，然后缩小以实现抗锯齿。res4比res8更快，但精度更低。<br />
　'api'使用GetGlyphOutline API绘制抗锯齿文字，但这个API似乎有很多不便，根据环境可能无法正常绘制。</dd>
<dt>-<a id="id51" name="id51" class="targanchor"><dfn>jpegdec</dfn></a>（JPEG图像解码精度）</dt>
<dd>　设置JPEG图像解码（展开）的精度。<br />
　可设置的值为<em>'high'（高）</em>、<em>'normal'（标准）</em>或<em>'low'（低）</em>之一，不指定此选项则视为指定了'normal'。<br />
　指定'high'解码速度较慢但图像质量较高。指定'low'解码速度较快但图像质量较低。但在视觉上几乎没有区别。</dd>
<dt>-<a id="id52" name="id52" class="targanchor"><dfn>drawthread</dfn></a>（绘制线程数）</dt>
<dd>　设置绘制处理时使用的线程数。<br />
　可设置的值为<em>任意数值</em>或<em>'auto'（自动）</em>之一，不指定此选项则视为指定了'1'。<br />
　指定'auto'将自动分配与操作系统识别的处理器数量相同的线程数。<br />
　设置多个绘制线程可能提高多核环境下的绘制性能，但也可能降低性能。<br />
　在绘制面积大、Affine系列高负载处理、计算量大的图层合成处理等情况下应用此设置，可能获得良好结果。<br />
　即使设置为使用多线程，如果系统判断绘制处理负载较轻，多线程化效果不明显，也可能不会使用多线程执行。<br />
</dd></dl></div></div>

<h1><a id="id53" name="id53">CPU功能相关选项</a>
</h1><div class="para"><div>
　以下所有选项的可设置值均为<em>'yes'（如果可用则使用）</em>、<em>'no'（即使可用也不使用）</em>或<em>'force'（强制使用）</em>之一，不指定选项则视为指定了'yes'。<br />
　如果发生CPU识别问题，设置为'no'将不使用该功能。<br />
　'force'会在未检测到该CPU功能的情况下也强制使用，但如果CPU不具备该功能，程序当然无法正常运行。<br />
　吉里吉里本体仅受-cpummx、-cpucmov、-cpusse、-cpuemmx选项影响。OggVorbis解码器（wuvorbis.dll）受-cpusse、-cpummx和-cpu3dn选项影响。其他（第三方）插件中可能也有受CPU功能设置影响的。<br />
<br />
<ul><li>-<a id="id54" name="id54" class="targanchor"><dfn>cpummx</dfn></a>（MMX）</li><li>-<a id="id55" name="id55" class="targanchor"><dfn>cpu3dn</dfn></a>（3DNow!）</li><li>-<a id="id56" name="id56" class="targanchor"><dfn>cpusse</dfn></a>（SSE）</li><li>-<a id="id57" name="id57" class="targanchor"><dfn>cpucmov</dfn></a>（CMOVcc）</li><li>-<a id="id58" name="id58" class="targanchor"><dfn>cpue3dn</dfn></a>（Enhanced 3DNow!）</li><li>-<a id="id59" name="id59" class="targanchor"><dfn>cpuemmx</dfn></a>（EMMX（MMX2））</li><li>-<a id="id60" name="id60" class="targanchor"><dfn>cpusse2</dfn></a>（SSE2）</li></ul></div></div>


<h1><a id="id61" name="id61">调试相关选项</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id62" name="id62" class="targanchor"><dfn>debug</dfn></a>（调试模式）</dt>
<dd>　设置是否以调试模式<span class="comlink">（→<a target="main" class="jump" href="Debug.html">调试</a>）</span>运行吉里吉里。<br />
　可设置的值为<em>'no'（禁用）</em>或<em>'yes'（启用）</em>之一，不指定此选项则视为指定了'no'。<br />
　启用后，吉里吉里将以调试模式运行，启用多种调试支持功能，但执行速度会比正常模式慢。</dd>

<dt>-<a id="id63" name="id63" class="targanchor"><dfn>forcelog</dfn></a>（日志输出到文件）</dt>
<dd>　设置是否将控制台日志输出到文件。<br />
　可设置的值为<em>'no'（不输出）</em>、<em>'yes'（追加到现有文件）</em>或<em>'clear'（清除现有文件后输出）</em>之一，不指定此选项则视为指定了'no'。
</dd>
<dt>-<a id="id64" name="id64" class="targanchor"><dfn>logerror</dfn></a>（错误时日志输出到文件）</dt>
<dd>　设置错误发生时是否将控制台日志输出到文件。<br />
　可设置的值为<em>'no'（不输出）</em>、<em>'yes'（追加到现有文件）</em>或<em>'clear'（清除现有文件后输出）</em>之一，不指定此选项则视为指定了'yes'。
</dd>
<dt>-<a id="id65" name="id65" class="targanchor"><dfn>debugwin</dfn></a>（调试支持窗口）</dt>
<dd>　设置是否启用调试支持窗口（控制台、监视表达式等）。<br />
　可设置的值为<em>'yes'（启用）</em>或<em>'no'（禁用）</em>之一，不指定此选项则视为指定了'yes'。<br />
　不希望用户使用调试支持窗口时，指定'no'。</dd></dl></div></div>


<h1><a id="id66" name="id66">热键相关选项</a>
</h1><div class="para"><div>
　以下选项是吉里吉里<a target="main" class="jump" href="HotKeys.html">热键</a>相关选项。<br />
　可设置的值与<a class="jump" href="f_MenuItem_shortcut.html">MenuItem.shortcut</a>属性指定的字符串相同。<br />
　指定空字符串（将输入栏留空）将禁用该功能的热键。<br />
　请勿指定与其他热键重复的键。<br />
<br />
<ul><li>-<a id="id67" name="id67" class="targanchor"><dfn>hkcontroller</dfn></a>（控制器）</li><li>-<a id="id68" name="id68" class="targanchor"><dfn>hkeditor</dfn></a>（脚本编辑器）</li><li>-<a id="id69" name="id69" class="targanchor"><dfn>hkwatch</dfn></a>（监视表达式）</li><li>-<a id="id70" name="id70" class="targanchor"><dfn>hkconsole</dfn></a>（控制台）</li><li>-<a id="id71" name="id71" class="targanchor"><dfn>hkclipenvinfo</dfn></a>（复制环境信息）</li><li>-<a id="id72" name="id72" class="targanchor"><dfn>hkabout</dfn></a>（显示版权信息）</li><li>-<a id="id73" name="id73" class="targanchor"><dfn>hkupdaterect</dfn></a>（显示更新矩形）</li><li>-<a id="id74" name="id74" class="targanchor"><dfn>hkdumplayer</dfn></a>（导出图层结构）</li></ul></div></div>





<h1><a id="id75" name="id75">系统兼容性相关选项</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id76" name="id76" class="targanchor"><dfn>arcdelim</dfn></a>（归档分隔符）</dt>
<dd>　指定归档分隔符（分隔归档存储名和归档内存储名的字符）。<br />
　可设置的值为<em>'&gt;'（使用'&gt;'）</em>或<em>'#'（使用'#'）</em>之一，不指定此选项则视为指定了'&gt;'。<br />
　归档分隔符在吉里吉里2 2.19 beta 14中从原来的'#'更改为'&gt;'。<br />
　在2.19 beta 14之前运行的应用程序可能因此更改而无法运行，但通过此选项将分隔符更改为'#'可以使其正常运行。<br />
</dd>

<dt>-<a id="id77" name="id77" class="targanchor"><dfn>evalcontext</dfn></a>（后置'!'运算符行为）</dt>
<dd>　指定TJS2后置'!'运算符的行为。<br />
　可设置的值为<em>'this'（在this上评估表达式）</em>或<em>'global'（在global上评估表达式）</em>之一，不指定此选项则视为指定了'this'。<br />
　TJS2的后置'!'运算符过去在global上下文中执行表达式，但从2.21 beta 9开始，改为在this上下文中执行。<br />
　针对2.21 beta 9之前的应用程序，可能需要将此设置改为"在global上评估表达式"才能正常运行。</dd>

<dt>-<a id="id78" name="id78" class="targanchor"><dfn>holdalpha</dfn></a>（Layer.holdAlpha属性的默认值）</dt>
<dd>　指定<a target="main" class="jump" href="f_Layer_holdAlpha.html">Layer.holdAlpha</a>属性的默认值。<br />
　可设置的值为<em>'false'（假）</em>或<em>'true'（真）</em>之一，不指定此选项则视为指定了'false'。<br />
　在吉里吉里2 2.23 beta 4中，各种运算函数中指定的hda（是否保护alpha通道）选项被移除，改为Layer.holdAlpha属性。此时Layer.holdAlpha的默认值为真。当Layer.holdAlpha为真时，不会影响旧应用程序的行为。<br />
　吉里吉里2 2.23 beta 5将默认值改为假。为了让针对2.23 beta 5之前的应用程序正常运行，可能需要将此选项设置为"真"。</dd>

<dt>-<a id="id79" name="id79" class="targanchor"><dfn>unaryaster</dfn></a>（前置'*'运算符行为）</dt>
<dd>　指定TJS2前置'*'运算符的行为。<br />
　可设置的值为<em>'default'（2.25及以后的行为）</em>或<em>'compat'（2.25之前的行为）</em>之一，不指定此选项则视为指定了'default'。<br />
　TJS2的前置'*'运算符原本是不通过属性处理器直接获取属性对象本身的运算符，但从2.25 beta 1开始，具有此功能的运算符变为前置'&amp;'，而前置'*'运算符成为触发属性对象属性处理器的运算符。对于针对2.25 beta 1之前的应用程序，可能需要将此设置改为"2.25之前兼容"才能正常运行。</dd>


</dl></div></div>


	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
