<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from Letter.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>显示文字</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关参考标准样式" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="首页" />
</head>
<body>
<h1><a id="id92" name="id92">选择何种样式</a>
</h1><div class="para"><div>
　大致上，这个世界上的文字型冒险游戏分为显示消息框并在其中显示文字的类型和在整个屏幕上显示文字的类型(视觉小说类型)，但由于它们只是文字显示位置不同，没有太大差别，所以KAG可以适应这两种方式。<br />
<br /><div class="descimg"><img width="325" height="265" alt="UsingVN.jpg" src="UsingVN.jpg" /><img width="325" height="265" alt="UsingFrame.jpg" src="UsingFrame.jpg" /><br />两种方式</div><br />　同时也支持竖排显示。<br />
<br /><div class="descimg"><img width="325" height="265" alt="Vertical.jpg" src="Vertical.jpg" /><br />竖排显示</div><br />　默认情况下设置为横排显示的所谓视觉小说类型显示。详情请参考Config.tjs。本教程将基于这种默认的视觉小说类型显示方式进行讲解。<br />
</div></div>
<h1><a id="id93" name="id93">先显示些什么</a>
</h1><div class="para"><div>
　那么，让我们尝试显示一些内容。在scenario文件夹中，应该有一个叫做<a id="id94" name="id94" class="targanchor"><dfn>first.ks</dfn></a>的文件。这个文件是最先被加载的剧本文件。<br />
　在标准状态下，它包含以下内容：<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
你好。<br />
</code>
<br />

　一开始看到这么多内容可能会让人困惑，但请只关注写着"你好。"的那一行。请用编辑器将"你好。"替换成你想显示的文字。比如"晚上好。"也可以。<br />
　然后，启动吉里吉里，当出现[文件夹/存档选择]对话框时，指定你创建的项目文件夹并点击[确定]按钮。<em>要指定的是项目文件夹，不是first.ks文件。</em><br />
<br />
<br /><div class="descimg"><img width="650" height="528" alt="kon-banwa.png" src="kon-banwa.png" /><br />"晚上好。"</div><br />　这样，你应该能看到在漆黑的屏幕上显示出"晚上好。"了。背景的设置将在后面<span class="comlink"> ( → <a target="main" class="jump" href="DispBase.html">显示背景</a> ) </span>解释。<br />
　总之，只要替换"你好。"为你想显示的文字，就能像这样显示出来。<br />
</div></div>
<h1><a id="id95" name="id95">使用点击等待和换行</a>
</h1><div class="para"><div>
　现在，让我们在行尾添加点击等待。要添加点击等待，需要在想让用户点击等待的地方加入[<a id="id96" name="id96" class="targanchor"><dfn>l</dfn></a>]。(使用半角的[l]；l是小写的L)<br />
　之后，为了进行换行，在其后添加[<a id="id97" name="id97" class="targanchor"><dfn>r</dfn></a>]。<br />
<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
你好。[l][r]<br />
祝你今天愉快。[l][r]<br />
</code>
<br />

　请先退出吉里吉里，然后重新启动并运行项目文件夹。<br />
<br />
<br /><div class="descimg"><img width="650" height="528" alt="gokigen.png" src="gokigen.png" /><br />点击等待</div><br /><br />
　在"你好。"之后应该会有点击等待，点击后会换行，然后显示"祝你今天愉快。"。<br />
</div></div>
<h1><a id="id98" name="id98">使用翻页等待</a>
</h1><div class="para"><div>
　如果想清除所有文字，然后从左上角重新开始显示文字，可以在新的一行中写入[<a id="id99" name="id99" class="targanchor"><dfn>cm</dfn></a>]。(使用半角的[cm])<br />
　但在此之前，如果不添加点击等待，屏幕会自动清除。通常在[cm]之前会添加[<a id="id100" name="id100" class="targanchor"><dfn>p</dfn></a>]。请看下面的例子：<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
你好。[l][r]<br />
祝你今天愉快。[l][r]<br />
即将翻页。[p]<br />
[cm]<br />
已经翻页了。<br />
</code>
<br />

　现在，请尝试运行这段代码。在[p]的位置会出现表示翻页的符号并等待点击，点击后所有文字会被清除，然后从左上角开始显示"已经翻页了。"。<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　清除消息的标签有er、ct和cm三种。它们各自的行为略有不同，将在保存和加载的说明部分<span class="comlink"> ( → <a target="main" class="jump" href="SaveLoad.html">实现保存和加载功能</a> ) </span>进行解释。如果不需要特殊功能，可能统一使用cm会更方便。<br />
</div><br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　在KAG 3之前的教程中，这里使用的是ct。cm与ct类似，都会清除所有消息层，但不像ct会将操作对象的消息层恢复到表层的message0。我认为cm比ct更好用。<br />
　但必须注意的是，在后面会提到的可保存标签之后，必须写入cm或ct标签。</div><br />
<br />
　在KAG中，所有文字都被绘制在称为"<a id="id101" name="id101" class="targanchor"><dfn>消息层</dfn></a>"的层上。KAG标准设置中还有另一个消息层，使用这两个层可以表现出两人对话的场景。请参考<a id="id102" name="id102" class="targanchor"><dfn>current</dfn></a>标签等内容。<br />
</div></div>
<h1><a id="id103" name="id103">什么是标签</a>
</h1><div class="para"><div>
　那么，刚才那些用方括号[ ]括起来的半角内容到底是什么呢？<br />
　被[ ]括起来的内容被称为<em>标签</em>，用于控制KAG的各种功能。<br />
　例如，在第一行中有<code class="inlinecode">[wait time=200]</code>这部分，这是一个带有<code class="inlinecode">time=200</code>这样<em><a id="id105" name="id105" class="targanchor"><dfn>属性</dfn></a></em>的名为<code class="inlinecode">wait</code>的<em><a id="id104" name="id104" class="targanchor"><dfn>标签名</dfn></a></em>的"标签"。属性中，<code class="inlinecode">time</code>是<em>属性名</em>，而<code class="inlinecode">200</code>是<em>属性值</em>。<br />
　按照这种方式，首先在[之后写入"标签名"，空一格后写入"属性名=属性值"。"属性名=属性值"可能会有多个。最后用]结束标签。<br />
　以后会出现各种标签，开始时可以模仿着写，慢慢就会掌握感觉了。<br />
　标签非常重要。除了文字显示外，所有对KAG的指令都通过这些标签完成。有各种各样的标签，请参考<a target="main" class="jump" href="Tags.html">标签参考</a>。<br />
<br />
　通过使用<a id="id106" name="id106" class="targanchor"><dfn>宏</dfn></a><span class="comlink"> ( → <a target="main" class="jump" href="Macro.html">使用宏</a> ) </span>，可以组合现有标签来定义新标签。这样可以将常用的标签组合成一个标签，非常方便。为游戏系统提前定义一套宏标签会很有用。<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
　在KAG 3之前的版本中，如果行尾没有写\ (反斜杠)，则行尾会自动换行。而在KAG 3及以后的版本中，如果不写[r]，则不会换行。如果想要使用KAG 3之前的换行处理方式，请在Config.tjs中将global.ignoreCR设置为false。<br />
</div><br />
<br />
</div></div>
<h1><a id="id107" name="id107">命令行</a>
</h1><div class="para"><div>
　以@(半角@)开头的行被识别为"命令行"。<br />
　在@后面写入标签的内容，即标签名及其后面的属性(如果有的话)，但不需要用[ ]括起来。一行只能写一个命令。<br />
　虽然写法不同，但实际功能与标签相同。<br />
<br />
　例如，以下两行具有相同的含义：<br />
<br />

<br />
<code class="bq">[wc&nbsp;time=20]<br />
@wc&nbsp;time=20<br />
</code>
<br />

<br />
　另外，"使用翻页等待"的例子可以改写如下：<br />
<br />

<br />
<code class="bq">@wait&nbsp;time=200<br />
*start|开始<br />
@cm<br />
你好。[l][r]<br />
祝你今天愉快。[l][r]<br />
即将翻页。[p]<br />
@cm<br />
已经翻页了。<br />
</code>
<br />

</div></div>
<h1><a id="id108" name="id108">剧本中的特殊符号和特殊行</a>
</h1><div class="para"><div>
　剧本是普通的文本文件，可以自由编写内容，但以下符号有特殊用途，使用时需要注意：<br />
<br />
<dl>
<dt>　　<a id="id109" name="id109" class="targanchor"><dfn>[</dfn></a>　　(半角左方括号)</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　表示标签开始的符号(^^;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;　如果必须使用半角左方括号而不作为标签开始，可以连续写两个<code class="inlinecode"><em>[[</em></code>（右方括号可以正常使用）。</dd>
<dt>　　<a id="id110" name="id110" class="targanchor"><dfn>;</dfn></a>　　(半角分号)</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　<em>行首的</em>分号所在行的内容会被忽略，可以在这里添加注释。</dd>
<dt>　　<a id="id111" name="id111" class="targanchor"><dfn>*</dfn></a>　　(半角星号)</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　<em>仅当位于行首时</em>，定义标签。链接时作为目标，保存和加载时也作为标记(将在其他地方说明)。</dd>
<dt>　　<a id="id112" name="id112" class="targanchor"><dfn>@</dfn></a>　　(半角at符号)</dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　<em>仅当位于行首时</em>，表示这是一个命令行。</dd>
<dt>　　<a id="id113" name="id113" class="targanchor"><dfn>制表符</dfn></a></dt>
<dd>&nbsp;&nbsp;&nbsp;&nbsp;　行首的制表符会被忽略(当作不存在)处理。利用这一点，可以在剧本文件中使用缩进(为了使剧本更易读而进行的缩排)。需要注意的是，只有制表符被忽略，空格不会被忽略。</dd></dl></div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
