<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from BGM.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>使用BGM</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关参考用标准样式" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="首页" />
</head>
<body>
<h1><a id="id3" name="id3">BGM的准备</a>
</h1><div class="para"><div>
　KAG可以播放Wave系列(无压缩Wave和Ogg Vorbis等)、MIDI序列数据和CD-XA的音频轨道作为BGM。<br />
　请阅读<a target="main" class="jump" href="Prepare.html">准备工作</a>，并做好准备。<br />
<br />
　这里(作为教程)我们将使用CD-DA的方法，在Config.tjs中设置<code class="inlinecode">type</code>为<code class="inlinecode">&quot;CDDA&quot;</code>，<code class="inlinecode">doubleBuffered=false</code>。<br />
<br />
　咦，不需要指定<code class="inlinecode">cdVolume</code>吗？不用CD-XA也可以吗？因为这次我们会自己指定CD-ROM驱动器，所以不需要设置<code class="inlinecode">cdVolume</code>，也不需要使用包含驱动器搜索必要信息的CD-XA。<br />
<br />
　现在，请将适当的音乐CD插入CD-ROM驱动器。<br />
</div></div>
<h1><a id="id4" name="id4">先试着播放一下</a>
</h1><div class="para"><div>
　使用playbgm标签来播放，使用stopbgm标签来停止播放。那么...<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
<em>[playbgm&nbsp;storage=&quot;e:3&quot;]</em><br />
正在播放...点击停止。[l]<br />
<em>[stopbgm]</em><br />
</code>
<br />

　这里，playbgm的storage属性指定为<code class="inlinecode">e:3</code>。<code class="inlinecode">e:</code>是用于播放的CD-ROM驱动器盘符，请根据您的环境进行调整。后面的3是要播放的音轨号。<br />
<br />
　在本教程中我们使用了<code class="inlinecode">e:</code>，但实际上，会播放Config.tjs中由<code class="inlinecode">cdVolume</code>指定的卷标的CD。如果不像<code class="inlinecode">e:</code>那样指定播放驱动器，而只写音轨号码，KAG将会搜索具有<code class="inlinecode">cdVolume</code>指定的卷标的CD-ROM驱动器。<br />
<br />
　此外，如果要播放非CD-DA格式，例如MIDI序列数据，只需在storage属性中指定要播放的文件名即可。<br />
</div></div>
<h1><a id="id5" name="id5">淡入淡出</a>
</h1><div class="para"><div>
　要进行淡入淡出，请使用fadeinbgm标签和fadeoutbgm标签。<br />
　这时有一个time属性，用于指定淡入淡出过程的持续时间。<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
<em>[fadeinbgm&nbsp;storage=&quot;e:3&quot;&nbsp;time=5000]</em><br />
正在播放...点击停止。[l]<br />
<em>[fadeoutbgm&nbsp;time=5000]</em><br />
</code>
<br />

　请注意，这些标签不会等待淡入淡出结束，如果需要等待结束，需要使用[wb]标签。<br />
</div></div>
<h1><a id="id6" name="id6">其他与BGM相关的标签</a>
</h1><div class="para"><div>
　有一个用于切换BGM的xchgbgm标签。对于Wave系列或MIDI系列，还可以进行交叉淡入淡出(请参阅Config.tjs)。<br />
<br />
　在Wave系列中使用OggVorbis、TCWF或Microsoft ADPCM时，需要指定插件，请注意(参见<a target="main" class="jump" href="Prepare.html">准备工作</a>)。这对于音效也是一样的。<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">注意</span></div>
　要在MIDI系列中进行交叉淡入淡出，需要"专为交叉淡入淡出而设计的"数据(例如，同时播放的两首曲子不使用相同的通道等)。然而，这不太现实。<br />
</div><br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
