<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from Distribute.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>开始发布</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关参考用标准样式" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="首页" />
</head>
<body>
<h1><a id="id45" name="id45">项目文件夹的自动运行</a>
</h1><div class="para"><div>
　吉里吉里启动时，会显示选择项目文件夹的界面。要在吉里吉里启动的同时不显示此界面并直接执行项目文件夹，有以下方法：<br />
<br />
<dl>
<dt>将项目文件夹重命名为data</dt>
<dd>　如果将项目文件夹的名称改为&quot;<a id="id46" name="id46" class="targanchor"><dfn>data</dfn></a>&quot;，并放在与吉里吉里可执行文件(krkr.eXe)相同的文件夹中，则吉里吉里启动时会自动运行该项目文件夹。</dd>
<dt>使用Releaser创建data.xp3文件</dt>
<dd>　使用后面将提到的Releaser创建名为<a id="id47" name="id47" class="targanchor"><dfn>data.xp3</dfn></a>的xp3存档文件，并将其放在与吉里吉里可执行文件相同的文件夹中，则吉里吉里启动时会自动运行该存档。</dd>
<dt>使用Releaser创建可执行文件</dt>
<dd>　可以使用Releaser直接创建可执行文件。<br />
　但是这种情况下，在后面提到的发布补丁时会稍微麻烦，并且与部分杀毒软件的兼容性较差，所以如果不是特别需要创建单个可执行文件，建议使用上述创建data.xp3的方法。</dd></dl><br />
　关于Releaser的使用方法，请参阅吉里吉里SDK帮助。<br />
</div></div>
<h1><a id="id48" name="id48">发布文件</a>
</h1><div class="para"><div>
　在实际发布游戏使其在目标环境中运行时，必须包含一些文件和文件夹。<br />
<br />
<dl>
<dt>吉里吉里可执行文件</dt>
<dd>　如果没有使用Releaser输出可执行文件，则需要一同发布可执行文件。可执行文件(krkr.eXe)可以重命名。此外，还可以使用吉里吉里设置(krkrconf.exe)更改图标。</dd>
<dt>扩展名为cf的文件</dt>
<dd>　使用吉里吉里设置(krkrconf.exe)进行设置后，会输出一个与吉里吉里可执行文件同名但扩展名为.cf的文件。其中记录了-datapath等重要选项，因此需要一同发布。<br />
　如果没有此文件，则无需发布。<br />
</dd>
<dt><a id="id49" name="id49" class="targanchor"><dfn>krmovie.dll</dfn></a></dt>
<dd>　如果在游戏中播放MPEG电影，则必须一同发布此文件。此文件必须放置在与吉里吉里可执行文件(包括Releaser输出的可执行文件)相同的文件夹中。</dd>
<dt><a id="id50" name="id50" class="targanchor"><dfn>krflash.dll</dfn></a></dt>
<dd>　如果在游戏中播放Flash内容，则必须一同发布此文件。此文件必须放置在与吉里吉里可执行文件(包括Releaser输出的可执行文件)相同的文件夹中。</dd>
<dt>其他插件</dt>
<dd>　必须放置在与吉里吉里可执行文件相同的文件夹中，或者放在吉里吉里可执行文件所在文件夹的plugin文件夹中。<br />
　虽然也可以将插件放在项目文件夹中，但<em>不推荐这样做</em>。最好将其放在与吉里吉里可执行文件相同的文件夹中，或放在吉里吉里可执行文件所在文件夹的plugin文件夹中进行发布(如果将插件放在项目文件夹内并包含在存档中，从CD-ROM直接运行时可能会出错)。</dd>
<dt><a id="id51" name="id51" class="targanchor"><dfn>保存数据文件夹</dfn></a></dt>
<dd>　除了在吉里吉里可执行文件所在的同一文件夹中创建保存数据的情况外，存放保存数据的文件夹也必须一同发布。特别是在使用lzh等格式压缩时，空文件夹可能不会被解压，所以如果使用这类存档格式发布，最好在保存数据文件夹中放置一个虚拟文件。</dd></dl><br />
另外，也请参考吉里吉里SDK帮助中的"文件/文件夹一览"。<br />
</div></div>
<h1><a id="id52" name="id52">最终用户设置工具的发布</a>
</h1><div class="para"><div>
　为了让最终用户能够轻松进行吉里吉里设置，可以与游戏一起或单独发布面向最终用户的设置工具<a id="id53" name="id53" class="targanchor"><dfn>引擎设置.exe</dfn></a>。<br />
　关于这些工具的使用方法，请参阅吉里吉里SDK帮助。<br />
<br />
　如果发布容量没有问题，强烈建议将此工具与游戏一起发布。<br />
</div></div>
<h1><a id="id54" name="id54">文件损坏检查工具的发布</a>
</h1><div class="para"><div>
　可以与游戏一起或单独发布用于检测安装时或安装后损坏文件的"文件损坏检查工具"(文件损坏检查工具.exe)。<br />
　关于这些工具的使用方法，请参阅吉里吉里SDK帮助。<br />
<br />
</div></div>
<h1><a id="id55" name="id55">补丁发布</a>
</h1><div class="para"><div>
　在发布游戏后，如果需要进行修正，可以通过"补丁(修补)"的形式只发布有修改的文件。<br />
<br />
<dl>
<dt>吉里吉里执行核心的补丁</dt>
<dd>　当吉里吉里执行核心需要修正时。<br />
　如果使用Releaser输出的不是可执行文件而是xp3格式存档，只需将新的吉里吉里可执行文件覆盖旧的可执行文件即可。<br />
　如果使用Releaser输出的是可执行文件，则比较麻烦。需要执行以下操作：<br />
<ol><li>将之前的可执行文件重命名为data.xp3</li><li>将新的可执行文件(可以重命名)复制到同一文件夹中</li><li>设置为运行新的可执行文件</li></ol></dd>
<dt>项目文件夹内的补丁</dt>
<dd>　KAG有一个功能，当吉里吉里可执行文件所在文件夹中存在名为patch.xp3的文件时，会优先查看该文件的内容。<br />
　要创建这个patch.xp3，需要将有修改的文件和新增文件收集到一个文件夹中，然后使用Releaser指定该文件夹创建patch.xp3文件。<br />
　此外，如果有patch2.xp3、patch3.xp3、patch4.xp3...等文件，这些文件也会被加载。如果这些文件或原始发布的(非补丁)文件中存在同名文件，则会优先使用数字较大的补丁文件中的文件。请注意，如果patch2.xp3、patch3.xp3、patch4.xp3...的序列中有缺失，则会在缺失处停止查找补丁存档。</dd></dl></div></div>
<h1><a id="id56" name="id56">故障排除</a>
</h1><div class="para"><div>
　如果发布了面向最终用户的设置工具，用户可以自行进行一定程度的故障排除。<br />
　此外，在吉里吉里设置中设置输出控制台日志，可以作为故障时非常有用的分析资料。控制台日志存在于书签保存目录中，名为krkr.console.log。<br />
</div></div>
<h1><a id="id57" name="id57">版权等</a>
</h1><div class="para"><div>
　请务必阅读SDK附带的<a id="id58" name="id58" class="targanchor"><dfn>license.txt</dfn></a>。<br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
