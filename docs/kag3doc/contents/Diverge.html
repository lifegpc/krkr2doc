<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from Diverge.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>使用选择项</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关参考标准样式" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="首页" />
</head>
<body>
<h1><a id="id59" name="id59">定义标签</a>
</h1><div class="para"><div>
　在使用选择项之前，我们必须先解释<a id="id60" name="id60" class="targanchor"><dfn>标签</dfn></a>。<br />
　当选择某个选项后，剧本控制必须转移到相应的位置。这时控制转移的标记就是标签。<br />
<br />
　标签是以行首带有*符号的行。在之前的示例中已经出现过了。例如...<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
<em>*start|开始</em><br />
[cm]<br />
你好。<br />
</code>
<br />

　在这种情况下，我们定义了一个名为*start的标签。那么|(竖线)后面的"|开始"是什么呢？关于这个内容会在其他地方<span class="comlink"> ( → <a target="main" class="jump" href="SaveLoad.html">让我们支持保存和加载</a> ) </span>解释。|后面的内容可以不写。<br />
<br />
　标签名可以任意指定，但建议只使用半角英文字母和数字。此外，请不要在标签名中使用半角空格。<br />
<br />
　标签的功能除了作为控制转移的路标外，还有一个重要功能，就是作为保存和加载的位置。这个功能将与|(竖线)的含义一起在其他地方讲解。<br />
</div></div>
<h1><a id="id61" name="id61">尝试使用选择项</a>
</h1><div class="para"><div>
　在KAG中，选择项的实现更接近于超链接的概念。<br />
　要使用选择项，需要使用<a id="id62" name="id62" class="targanchor"><dfn>link</dfn></a>和<a id="id63" name="id63" class="targanchor"><dfn>endlink</dfn></a>标签。将选择项的文本夹在这两个标签之间，就可以用鼠标或键盘进行选择。当用鼠标点击或键盘按下Enter键时，将跳转到link标签的target属性指定的标签。<br />
　另外，如果需要等待选择或结束剧本等停止运行的情况，可以使用<code class="inlinecode">[<a id="id64" name="id64" class="targanchor"><dfn>s</dfn></a>]</code>标签。从菜单中选择"进行到下一个选择项"，会执行剧本直到遇到这个<code class="inlinecode">[s]</code>标签为止。<br />
　使用这些，可以如下编写。target=后面的*(星号)是必需的，请不要忘记。另外，|(竖线)后面的内容在指定target时不需要写。<br />
<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
<em>[link&nbsp;target=*select1]选择项1[endlink][r]<br />
[link&nbsp;target=*select2]选择项2[endlink][r]<br />
[link&nbsp;target=*select3]选择项3[endlink][r]<br />
[s]</em><br />
<br />
*select1<br />
选择了选择项1。[l]<br />
[s]<br />
<br />
*select2<br />
选择了选择项2。[l]<br />
[s]<br />
<br />
*select3<br />
选择了选择项3。[l]<br />
[s]<br />
</code>
<br />

　如果就这样执行，选择后选择项不会消失。<br />
　要清除选择项，通常在标签后写[cm]。<br />

<br />
<code class="bq">[wait&nbsp;time=200]<br />
*start|开始<br />
[cm]<br />
<em>[link&nbsp;target=*select1]选择项1[endlink][r]<br />
[link&nbsp;target=*select2]选择项2[endlink][r]<br />
[link&nbsp;target=*select3]选择项3[endlink][r]<br />
[s]</em><br />
<br />
*select1<br />
[cm]<br />
选择了选择项1。[l]<br />
[s]<br />
<br />
*select2<br />
[cm]<br />
选择了选择项2。[l]<br />
[s]<br />
<br />
*select3<br />
[cm]<br />
选择了选择项3。[l]<br />
[s]<br />
</code>
<br />

<br />
<br /><div class="descimg"><img width="650" height="528" alt="Diverge.png" src="Diverge.png" /><br />选择项示例</div><br /><br /><div class="note"><div class="notehead"><span class="noteheadspan">注意</span></div>
&nbsp;&nbsp;&nbsp;&nbsp;　选择项一旦被选择，在显示新的选择项或执行<a id="id65" name="id65" class="targanchor"><dfn>unlocklink</dfn></a>标签之前，无法再次选择。<br />
&nbsp;&nbsp;&nbsp;&nbsp;　此外，要使已经显示在屏幕上的选择项变为不可选，可以使用<a id="id66" name="id66" class="targanchor"><dfn>locklink</dfn></a>标签。<br />
&nbsp;&nbsp;&nbsp;&nbsp;　在一般的编写中，无需考虑这些细节。<br />
</div><br />
</div></div>
<h1><a id="id67" name="id67">两个以上的剧本文件</a>
</h1><div class="para"><div>
　出于管理目的，可能需要将剧本文件分成两个或更多。<br />
　解决方法很简单，只需要在link标签上添加storage属性。例如，如果准备了一个名为scn2.ks的剧本，要跳转到其中的*scn2start标签...<br />

<br />
<code class="bq">[link&nbsp;storage=&quot;scn2.ks&quot;&nbsp;target=*scn2start]scn2.ks&nbsp;的&nbsp;scn2start[endlink]<br />
</code>
<br />

<br />
这样编写。点击这个选择项后，会加载scn2.ks，并跳转到*scn2start标签。<br />
</div></div>
<h1><a id="id68" name="id68">其他关于剧本分支的内容</a>
</h1><div class="para"><div>
　当只想简单地跳转到指定标签时，可以使用jump标签。<br />
　另外，link标签还有被点击时执行TJS(吉里吉里可直接理解的脚本)表达式的功能。
　<a id="id69" name="id69" class="targanchor"><dfn>button</dfn></a>标签不是将文本作为选择项，而是将准备好的图像作为选择按钮。用于实现图形化的选择。<br />
　请参考<a target="main" class="jump" href="Tags.html">标签参考</a>。<br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
