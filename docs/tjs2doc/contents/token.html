<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from token.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>令牌</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关参考用标准样式" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="首页" />
</head>
<body>
<h1><a id="id357" name="id357">令牌</a>
</h1><div class="para"><div>
　脚本在解释过程中，会被分解为称为令牌的单位进行处理。<br />
　令牌与下一个令牌的边界根据令牌的类型而不同。</div></div>
<h1><a id="id358" name="id358">裸词</a>
</h1><div class="para"><div>
　"裸词"是指没有被<code class="inlinecode">&quot;&quot;</code>或<code class="inlinecode">''</code>引用(引号)，直接写在脚本中的特定字符序列。<br />
　"裸词"具有以下规则：<br />
　<br />
<ul><li>由小写字母、大写字母、'<code class="inlinecode">_</code>'(下划线)、数字和所谓的全角字符组成。但数字不能出现在开头。</li><li>这些字符的连续序列结束前，都被视为一个"裸词"</li></ul><br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;ampan&nbsp;&nbsp;<span class="comment">//&nbsp;OK</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;123a&nbsp;<span class="comment">//&nbsp;数字出现在开头所以不行</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;_asdf&nbsp;<span class="comment">//&nbsp;下划线可以出现在开头所以OK</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;continue&nbsp;<span class="comment">//&nbsp;这是保留字 OK</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;全角文字&nbsp;<span class="comment">//&nbsp;所谓的全角字符可以作为"裸词" OK</span><br />
</code>
<br />

<br />
　"裸词"进一步分为保留字和标识符。<br />
</div></div>
<h1><a id="id359" name="id359">保留字</a>
</h1><div class="para"><div>
　保留字如下所示，它们不是标识符。在"裸词"中，所有不是保留字的都是标识符。<br />
<br />
<code class="inlinecode">  break  continue  const  catch  class  case<br />
  debugger  default  delete  do  extends  export<br />
  enum  else  function  finally  false  for<br />
  global  getter  goto  incontextof  Infinity<br />
  invalidate  instanceof  isvalid  import  int  in<br />
  if  NaN  null  new  octet  protected  property<br />
  private  public  return  real  synchronized  switch<br />
  static  setter  string  super  typeof  throw<br />
  this  true  try  void  var  while  with</code><br />
<br />
　这些保留字各自具有特殊含义，作为构成脚本语法的重要用途。其中一些被用作运算符。<br />
　但是，在当前版本中并非所有这些保留字都被使用。<br />
</div></div>
<h1><a id="id360" name="id360">标识符</a>
</h1><div class="para"><div>
　"标识符"是"裸词"中所有不是保留字的词。这些用于可由编写者自由命名的变量、函数、类名等。<br />
　即使标识符包含保留字，只要它本身不是保留字，就会被识别为标识符而非保留字。<br />
</div></div>
<h1><a id="id361" name="id361">符号</a>
</h1><div class="para"><div>
　符号类也被分解为令牌。符号类包括以下内容：<br />
<br />
<code class="inlinecode">&gt;&gt;&gt;=  &gt;&gt;&gt;  &gt;&gt;=  &gt;&gt;  &gt;=  &gt;  &lt;&lt;=  &lt;=<br />
&lt;-&gt;  &lt;&lt;  &lt;  ===  ==  =&gt;  =  !==  !=  !<br />
&amp;&amp;=  &amp;&amp;  &amp;=  &amp;  ||=<br />
||  |=  |  ...   .   ++  +=  +  -=  --  -  *=<br />
*  /=  /  \=  \  %=  %  ^=  ^  [  ]  (  )  ~<br />
?  :  ,  ;  {  }  #  $</code><br />
<br />
　这些符号按照最长匹配原则被分解为令牌。例如，<code class="inlinecode">++</code>不会被分解为<code class="inlinecode">+</code>和<code class="inlinecode">+</code>，而是被视为一个<code class="inlinecode">++</code>符号。如果想要将其表示为分开的<code class="inlinecode">+</code>和<code class="inlinecode">+</code>，需要在两个<code class="inlinecode">+</code>之间插入空格等。<br />
<br />
　符号类作为构成语法的元素，各自具有重要的含义。其中一些符号被用作运算符。<br />
</div></div>
<h1><a id="id362" name="id362">数值字面量</a>
</h1><div class="para"><div>
　数值字面量以数字或<code class="inlinecode">.</code>(小数点)开头。<code class="inlinecode">TJS2</code>识别以下形式：<br />
　普通地写数值就会直接成为10进制的数值字面量。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;0<br />
&nbsp;&nbsp;&nbsp;&nbsp;3.1<br />
&nbsp;&nbsp;&nbsp;&nbsp;342.3<br />
&nbsp;&nbsp;&nbsp;&nbsp;1<br />
</code>
<br />

<br />
　另外，对于10进制，可以使用<code class="inlinecode">e</code>或<code class="inlinecode">E</code>进行以10为底的<a id="id363" name="id363" class="targanchor"><dfn>指数表示</dfn></a>。<code class="inlinecode">e</code>和<code class="inlinecode">E</code>的含义相同。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;1e-3&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;1×10<sup>-3</sup></span><br />
&nbsp;&nbsp;&nbsp;&nbsp;3.4e10&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;3.4×10<sup>10</sup></span><br />
&nbsp;&nbsp;&nbsp;&nbsp;9.3E-2&nbsp;&nbsp;<span class="comment">//&nbsp;9.3×10<sup>-2</sup></span><br />
</code>
<br />

<br />
　在开头添加<code class="inlinecode">0x</code>或<code class="inlinecode">0X</code>表示<a id="id364" name="id364" class="targanchor"><dfn>16进制</dfn></a>数。<code class="inlinecode">0x</code>和<code class="inlinecode">0X</code>的含义相同。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;0x1234<br />
&nbsp;&nbsp;&nbsp;&nbsp;0Xff<br />
&nbsp;&nbsp;&nbsp;&nbsp;0x3f33<br />
</code>
<br />

<br />
　在开头添加<code class="inlinecode">0b</code>或<code class="inlinecode">0B</code>表示<a id="id365" name="id365" class="targanchor"><dfn>2进制</dfn></a>数。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;0b0100<br />
&nbsp;&nbsp;&nbsp;&nbsp;0B0010100010100001<br />
</code>
<br />

<br />
　以<code class="inlinecode">0</code>开头的数被视为<a id="id366" name="id366" class="targanchor"><dfn>8进制</dfn></a>数。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;01234<br />
&nbsp;&nbsp;&nbsp;&nbsp;033<br />
</code>
<br />

<br />
　16进制、8进制和2进制也可以使用小数点形式和p表示的指数。p表示以2为底的指数。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;0b1.1&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;1&nbsp;+&nbsp;1/2&nbsp;表示&nbsp;1.5</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;0x2.f&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;2&nbsp;+&nbsp;15/16&nbsp;表示&nbsp;2.9375</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;0x1p8&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;1&nbsp;×&nbsp;2<sup>8</sup>&nbsp;表示&nbsp;256.0</span><br />
</code>
<br />

<br />
<br />
　数值字面量会在其包含的字符都是数值字面量的构成字符的情况下被视为一个整体。<br />
</div></div>
<h1><a id="id367" name="id367">字符串字面量</a>
</h1><div class="para"><div>
　字符串字面量(字符串常量)是由<code class="inlinecode">&quot;&quot;</code>(双引号)或<code class="inlinecode">''</code>(单引号)包围的内容。使用双引号或单引号都可以。<br />
　不过，在<code class="inlinecode">&quot;&quot;</code>(双引号)中的'(单引号)以及在<code class="inlinecode">''</code>(单引号)中的<code class="inlinecode">&quot;</code>(双引号)不需要使用<code class="inlinecode">\</code>进行转义。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&quot;this&nbsp;is&nbsp;a&nbsp;string.&quot;<br />
&nbsp;&nbsp;&nbsp;&nbsp;'this&nbsp;is&nbsp;also&nbsp;a&nbsp;string.'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&quot;Can't&nbsp;use&nbsp;without&nbsp;a&nbsp;quotation.&quot;<br />
</code>
<br />

<br />
　在字符串中，<code class="inlinecode"><a id="id368" name="id368" class="targanchor"><dfn>\</dfn></a></code>(反斜杠)具有特殊含义。\后面跟着的字符会改变其含义。使用\后跟特殊指定被称为<a id="id369" name="id369" class="targanchor"><dfn>转义</dfn></a>。<br />
<br />

<br />
<code class="bq">\\&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;\&nbsp;符号本身<br />
\'&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;'&nbsp;(单引号)<br />
\&quot;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&quot;&nbsp;(双引号)<br />
\a&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;BEL&nbsp;(响铃)<br />
\b&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;BS&nbsp;(退格)<br />
\f&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;FF&nbsp;(换页)<br />
\n&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;LF&nbsp;(换行)<br />
\r&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;CR&nbsp;(回车)<br />
<br />
\t&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;HT&nbsp;(水平制表符)<br />
\v&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;VT&nbsp;(垂直制表符)<br />
\xH&nbsp;&nbsp;&nbsp;:&nbsp;H=16&nbsp;进制数&nbsp;(&nbsp;H&nbsp;表示字符编码&nbsp;)<br />
\XH&nbsp;&nbsp;&nbsp;:&nbsp;与上面相同<br />
</code>
<br />

<br />
　在<code class="inlinecode">\xH</code>形式中，H部分指定16进制数。这个16进制数被视为字符编码，并替换为对应的单个字符。<br />
<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;'Can\'t&nbsp;help'&nbsp;&nbsp;(&nbsp;使用了&nbsp;\'&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&quot;\x1234&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;宽字符，字符编码为&nbsp;0x1234&nbsp;的字符&nbsp;)<br />
</code>
<br />

<br />
此外，在<code class="inlinecode">\xH</code>形式中，只要\x后面跟着构成16进制数的字符(0～9、A～F、a～f)，都被视为H部分。不过，在宽字符大小为16位的环境中最多识别4位，32位环境中最多识别8位(Windows环境为16位，Linux或Solaris为32位)。<br />
如果写<code class="inlinecode">&quot;<em>\x22A</em>n Apple&quot;</code>，开头会被视为\x22A。为避免这种情况，请将字符串分开写成<code class="inlinecode">&quot;\x22&quot; &quot;An Apple&quot;</code>。在TJS中，这样连续的字符串字面量会被视为一个字符串。<br />
<br />
　关于字符串，另请参考<a target="main" class="jump" href="string.html">字符串操作</a>。<br />
</div></div>

<h1><a id="id370" name="id370">带@的字符串字面量</a>
</h1><div class="para"><div>
　在字符串字面量前添加@，会使该字符串字面量中从&到;之间或从${到}之间的内容被视为表达式，并将其求值结果展开在该位置(将表达式写在&和;之间或${和}之间，其结果会被嵌入到该位置)。<br />
　如果不想展开&或$，可以在&或$前面加上\来防止&或$被展开。<br />
<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;@&quot;1+2=&amp;1+2;&quot;&nbsp;&nbsp;(&nbsp;变成&quot;1+2=3&quot;字符串&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;@&quot;变量&nbsp;f&nbsp;的内容是&nbsp;&amp;f;&nbsp;です&quot;&nbsp;&nbsp;(&nbsp;将变量&nbsp;f&nbsp;的内容展开到&nbsp;&amp;f;&nbsp;位置&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;@&quot;函数&nbsp;func&nbsp;调用结果是&nbsp;&amp;func();&nbsp;です&quot;&nbsp;&nbsp;(&nbsp;只要是有效表达式都可以写在&nbsp;&amp;&nbsp;和&nbsp;;&nbsp;之间&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;@&quot;函数&nbsp;func&nbsp;调用结果是&nbsp;${func()}&nbsp;です&quot;&nbsp;&nbsp;(&nbsp;与上面相同&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;@&quot;true&nbsp;\&amp;\&amp;&nbsp;false&nbsp;是&nbsp;&amp;true&nbsp;&amp;&amp;&nbsp;false;&quot;&nbsp;&nbsp;(&nbsp;在&nbsp;&amp;&nbsp;前面写&nbsp;\&nbsp;可以防止&nbsp;&amp;&nbsp;被展开&nbsp;)<br />
</code>
<br />

<br />
　这里编写的表达式可以访问从该字符串所在位置可访问范围内的变量等(包括局部变量)。<br />
</div></div>

<h1><a id="id371" name="id371">八位字节序列字面量</a>
</h1><div class="para"><div>
　八位字节序列字面量由<code class="inlinecode">&lt;%</code>和<code class="inlinecode">%&gt;</code>包围，可以在其中编写八位字节数据(二进制数据)。<br />
　数据以两位16进制数形式指定，用空格等分隔，可指定多个。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;%&nbsp;00&nbsp;01&nbsp;02&nbsp;03&nbsp;%&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;%&nbsp;ff&nbsp;ff&nbsp;ff&nbsp;00&nbsp;04&nbsp;0f&nbsp;ff&nbsp;30&nbsp;%&gt;<br />
</code>
<br />

<br />
　关于八位字节序列，另请参考<a target="main" class="jump" href="octet.html">八位字节序列操作</a>。<br />
</div></div>
<h1><a id="id372" name="id372">正则表达式模式</a>
</h1><div class="para"><div>
　正则表达式模式由<code class="inlinecode">/</code>和<code class="inlinecode">/</code>包围，可以在其中编写正则表达式模式。<br />
　正则表达式模式后可以添加标志字符，g表示全局搜索标志(匹配所有找到的内容；没有此标志只匹配第一个)，i表示不区分英文字母大小写标志，l表示使用本地化排序规则标志。<br />
　这样编写的正则表达式模式会被视为RegExp类的对象。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;/[0-9]-[0-9]-[0-9]/<br />
&nbsp;&nbsp;&nbsp;&nbsp;/^;\s*(.*?)\s*=(.*)$/<br />
&nbsp;&nbsp;&nbsp;&nbsp;/start(.*?)end/gi<br />
</code>
<br />

<br />
　关于正则表达式模式，另请参考<a target="main" class="jump" href="regexp.html">RegExp类</a>。<br />
</div></div>


	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
