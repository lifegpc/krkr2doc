<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from array.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Array 类</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关参考用标准样式" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="首页" />
</head>
<body>
<h1><a id="id2" name="id2">Array 类</a>
</h1><div class="para"><div>
　Array 类是处理<a id="id3" name="id3" class="targanchor"><dfn>数组</dfn></a>的类。<br />
<br />
　创建此类的对象后，可以使用间接成员选择运算符指定索引来像数组一样使用它。索引是整数。0表示第一个元素，1表示下一个元素。如果指定负整数，则将其视为从数组末尾指定的元素（-1表示最后一个元素）。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;a&nbsp;=&nbsp;new&nbsp;Array();<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;i;<br />
&nbsp;&nbsp;&nbsp;&nbsp;for(i=0;i&lt;100;i++)&nbsp;a[i]=i;<br />
</code>
<br />

<br />
　数组的大小无需声明。它会自动扩展到指定索引的大小，未赋值的元素将初始化为void。<br />
<br />
　此外，它还有count属性，表示数组的大小。给count属性赋值也可以改变数组的大小。<br />
</div></div>

<h1><a id="id4" name="id4">表达式中的数组</a>
</h1><div class="para"><div>
　使用<code class="inlinecode"><a id="id5" name="id5" class="targanchor"><dfn>[ ]</dfn></a></code>可以在表达式中直接描述<code class="inlinecode">Array</code>类的对象。在<code class="inlinecode">[ ]</code>中用逗号分隔列举初始元素表达式。例如，<br />
<code class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;var ar = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</code>　这样写，<code class="inlinecode">ar</code>被赋值为包含<code class="inlinecode">&quot;a&quot; &quot;b&quot; &quot;c&quot;</code>元素的<code class="inlinecode">Array</code>类对象的引用。<br />
</div></div>
<h1><a id="id6" name="id6">count</a>
</h1><div class="para"><div>
　count属性表示数组的大小。<br />
</div></div>
<h1><a id="id7" name="id7">load</a>
</h1><div class="para"><div>
　load方法从文件中读取数组。<br />

<br />
<code class="bq">语法：load(&lt;文件名&gt;,&nbsp;&lt;模式=''&gt;)<br />
</code>
<br />

　从文本文件读取数组。文件中的文本每行存入一个元素，最终count属性与文件行数相同。<br />
　模式参数指定读取文件时的模式字符串。这取决于TJS运行的环境。在"o"后跟十进制偏移量表示从文件的该字节位置开始读取。<br />
　根据TJS运行的环境，可能无法使用此方法和save方法、saveStruct方法。<br />
　load方法返回Array类对象本身。<br />
</div></div>
<h1><a id="id8" name="id8">save</a>
</h1><div class="para"><div>
　save方法将数组写入文件。<br />

<br />
<code class="bq">语法：save(&lt;文件名&gt;,&nbsp;&lt;模式=''&gt;)<br />
</code>
<br />

　将数组写入文件。每行输出一个成员，但对象、类、函数等引用将变为空行。<br />
　模式参数指定写入文件时的模式字符串。这取决于TJS运行的环境，但在吉里吉里中，指定"c"将对文件进行简单加密（可以直接用load方法读取）。指定"z"可以压缩文件保存（不能与"c"同时使用；同样可以直接用load方法读取）。在"o"后跟十进制偏移量表示从文件的该字节位置开始写入。<br />
　save方法返回Array类对象本身。<br />
</div></div>
<h1><a id="id9" name="id9">split</a>
</h1><div class="para"><div>
　split方法分割字符串。<br />

<br />
<code class="bq">语法：split(&lt;模式/分隔符集合&gt;,&nbsp;&lt;字符串&gt;,&nbsp;&lt;(预留)&gt;,&nbsp;&lt;是否忽略空元素=false&gt;)</code>
<br />

　初始化数组，并将按模式或分隔符集合分割的字符串复制到此数组中。<br />
　第一个参数指定模式或分隔符集合。<br />
　模式必须是正则表达式对象。<br />
　分隔符集合指定作为分隔符的字符。可以指定字符串来指定多个分隔字符。<br />
　第三个参数为将来版本预留。<br />
　是否忽略空元素参数，如果为true，则当遇到空元素（如使用逗号作为分隔符时遇到,,,,,）时不会将该元素复制到数组中。<br />
　请注意参数的顺序。<br />
</div></div>
<h1><a id="id10" name="id10">join</a>
</h1><div class="para"><div>
　join方法将数组合并成一个字符串。<br />

<br />
<code class="bq">语法：join(&lt;分隔符&gt;,&nbsp;&lt;(预留)&gt;,&nbsp;&lt;是否忽略空元素=false&gt;)</code>
<br />

　用分隔符连接数组的各个元素，返回连接后的字符串。<br />
　如果是否忽略空元素为true，则元素中的void将被忽略。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ar&nbsp;=&nbsp;[&nbsp;&quot;a&quot;,&nbsp;&quot;b&quot;,&nbsp;void,&nbsp;&quot;d&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;s1&nbsp;=&nbsp;ar.join(&quot;,&quot;);&nbsp;<span class="comment">//&nbsp;s1赋值为&quot;a,b,,d&quot;</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;s2&nbsp;=&nbsp;ar.join(&quot;,&quot;,,true);&nbsp;<span class="comment">//&nbsp;s2赋值为&quot;a,b,d&quot;</span><br />
</code>
<br />

</div></div>
<h1><a id="id11" name="id11">reverse</a>
</h1><div class="para"><div>
　reverse方法将数组元素的顺序颠倒。<br />

<br />
<code class="bq">语法：reverse()<br />
</code>
<br />

</div></div>
<h1><a id="id12" name="id12">sort</a>
</h1><div class="para"><div>
　sort方法对数组进行排序。<br />

<br />
<code class="bq">语法：sort(&lt;排序顺序='+'&gt;,&nbsp;&lt;是否进行稳定排序=false&gt;)</code>
<br />

　排序顺序是以下字符串之一。升序将从小到大排列，降序则相反。省略时视为指定'+'。<br />

<br />
<code class="bq">&quot;+&quot;&nbsp;&nbsp;:&nbsp;升序（使用常规&lt;运算符比较）<br />
&quot;-&quot;&nbsp;&nbsp;:&nbsp;降序<br />
&quot;0&quot;&nbsp;&nbsp;:&nbsp;按数值升序（10,2,1排序为1,2,10）<br />
&quot;9&quot;&nbsp;&nbsp;:&nbsp;按数值降序<br />
&quot;a&quot;&nbsp;&nbsp;:&nbsp;按字符串升序（&quot;a&quot;,&quot;c&quot;,&quot;b&quot;排序为&quot;a&quot;,&quot;b&quot;,&quot;c&quot;）<br />
&quot;z&quot;&nbsp;&nbsp;:&nbsp;按字符串降序<br />
</code>
<br />

　可以用函数替代排序顺序字符。函数接受两个参数。当第一个参数应该排在第二个参数前面时返回真（注意与JavaScript的sort方法传递的函数返回值含义不同）。<br />
<br />
　第二个参数指定是否进行稳定排序。省略时视为指定false，进行不稳定排序。稳定排序会保证相同顺位的数组元素在排序后仍保持相同顺序。不稳定排序则无法保证相同顺位的数组元素在排序后保持相同顺序。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;0,&nbsp;1,&nbsp;2,&nbsp;10,&nbsp;12,&nbsp;14,&nbsp;4,&nbsp;6,&nbsp;2&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;方法执行后，array变为[0,&nbsp;1,&nbsp;2,&nbsp;2,&nbsp;4,&nbsp;6,&nbsp;10,&nbsp;12,&nbsp;14]</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort('-');<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;方法执行后，array变为[14,&nbsp;12,&nbsp;10,&nbsp;6,&nbsp;4,&nbsp;2,&nbsp;2,&nbsp;1,&nbsp;0]</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort('a');<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;方法执行后，array变为[0,&nbsp;1,&nbsp;10,&nbsp;12,&nbsp;14,&nbsp;2,&nbsp;2,&nbsp;4,&nbsp;6]</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;hoge&quot;,&nbsp;&quot;foo&quot;&nbsp;,&nbsp;&quot;bar&quot;,&nbsp;&quot;baz&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort();<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;方法执行后，array变为[&quot;bar&quot;,&nbsp;&quot;baz&quot;,&nbsp;&quot;foo&quot;,&nbsp;&quot;hoge&quot;]</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;abcd&quot;,&nbsp;&quot;abc&quot;,&nbsp;&quot;ab&quot;,&nbsp;&quot;a&quot;&nbsp;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort(function(a,b)&nbsp;{&nbsp;return&nbsp;a&lt;&nbsp;b;&nbsp;}&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;与指定'+'相同意义</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;abcd&quot;,&nbsp;&quot;abc&quot;,&nbsp;&quot;ab&quot;,&nbsp;&quot;a&quot;&nbsp;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort(function(a,b)&nbsp;{&nbsp;return&nbsp;a.length&nbsp;&lt;&nbsp;b.length;&nbsp;}&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;字符串长度从短到长</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;(长度相同的&quot;a&quot;&nbsp;&quot;b&quot;&nbsp;&quot;c&quot;在排序后</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;仍为&quot;a&quot;&nbsp;&quot;b&quot;&nbsp;&quot;c&quot;顺序的保证)</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;array&nbsp;=&nbsp;[&nbsp;&quot;abcd&quot;,&nbsp;&quot;abc&quot;,&nbsp;&quot;ab&quot;,&nbsp;&quot;a&quot;&nbsp;,&nbsp;&quot;b&quot;,&nbsp;&quot;c&quot;&nbsp;];<br />
&nbsp;&nbsp;&nbsp;&nbsp;array.sort(function(a,b)&nbsp;{&nbsp;return&nbsp;a.length&nbsp;&lt;&nbsp;b.length;&nbsp;},&nbsp;true&nbsp;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;↑&nbsp;字符串长度从短到长</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;(长度相同的&quot;a&quot;&nbsp;&quot;b&quot;&nbsp;&quot;c&quot;在排序后仍保持此顺序)</span><br />
</code>
<br />

</div></div>
<h1><a id="id13" name="id13">saveStruct</a>
</h1><div class="para"><div>
　saveStruct方法将结构化数据输出到文件。<br />

<br />
<code class="bq">语法：save(&lt;文件名&gt;,&nbsp;&lt;模式=''&gt;)<br />
</code>
<br />

　saveStruct方法以可恢复状态的形式将元素状态输出到文件。<br />
　各元素可以包含字符串、实数、八位字节序列、整数。如果元素中有对象，仅限于Array类或Dictionary类对象时，才会将该对象的内容也输出到文件。其他元素则输出void。<br />
　例如，<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;([&nbsp;1,&nbsp;2,&nbsp;3,&nbsp;[4,&nbsp;5],&nbsp;%[&nbsp;a&nbsp;:&nbsp;1,&nbsp;b&nbsp;:&nbsp;2&nbsp;],&nbsp;&quot;字符串&quot;&nbsp;]).saveStruct(&quot;out.txt&quot;);<br />
</code>
<br />

　会输出
<br />
<code class="bq">(const)&nbsp;[<br />
&nbsp;&nbsp;&nbsp;&nbsp;1,<br />
&nbsp;&nbsp;&nbsp;&nbsp;2,<br />
&nbsp;&nbsp;&nbsp;&nbsp;3,<br />
&nbsp;&nbsp;&nbsp;&nbsp;(const)&nbsp;[<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5<br />
&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;(const)&nbsp;%[<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;a&quot;&nbsp;=&gt;&nbsp;1,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;b&quot;&nbsp;=&gt;&nbsp;2<br />
&nbsp;&nbsp;&nbsp;&nbsp;],<br />
&nbsp;&nbsp;&nbsp;&nbsp;&quot;字符串&quot;<br />
]<br />
</code>
<br />

　这样的内容。通过将整个文件作为一个表达式进行评估，可以恢复保存时的相同结构。<br />
　这里的(const)表示[ ]或%[ ]中只包含常量项。编译器发现这个(const)后，会假定紧跟的表达式中字典数组或表达式数组中只包含常量项，从而高效地读取。<br />
　saveStruct方法返回Array类对象本身。<br />
</div></div>
<h1><a id="id14" name="id14">assign</a>
</h1><div class="para"><div>
　assign方法复制数组。<br />

<br />
<code class="bq">语法：assign(&lt;源数组&gt;)<br />
</code>
<br />

　完全复制参数指定的其他数组的内容。<br />
<br />
　如果源数组指定为字典数组（Dictionary类对象），则结果是一个数组，其中字典数组的各成员以名称、值交替出现。成员顺序是不确定的。<br />
</div></div>
<h1><a id="id15" name="id15">assignStruct</a>
</h1><div class="para"><div>
　assignStruct方法按结构复制数组。<br />

<br />
<code class="bq">语法：assignStruct(&lt;源数组&gt;)<br />
</code>
<br />

　完全复制参数指定的其他数组的内容。<br />
　与assign方法不同，如果成员中有数组或字典数组，会递归地复制其内容（assign方法只复制引用）。<br />
</div></div>
<h1><a id="id16" name="id16">clear</a>
</h1><div class="para"><div>
　clear方法删除数组的所有元素。<br />
</div></div>
<h1><a id="id17" name="id17">erase</a>
</h1><div class="para"><div>
　erase方法删除指定索引的元素。<br />

<br />
<code class="bq">语法：erase(&lt;索引&gt;)<br />
</code>
<br />

　删除指定位置的索引。索引之后的元素会依次前移，填补空位。索引超出范围时会引发异常。<br />
</div></div>
<h1><a id="id18" name="id18">remove</a>
</h1><div class="para"><div>
　remove方法删除与指定值相同的元素。<br />

<br />
<code class="bq">语法：remove(&lt;值&gt;,&nbsp;&lt;是否删除所有=true&gt;)<br />
</code>
<br />

　将指定值与各元素进行标识比较（<a id="id19" name="id19" class="targanchor"><dfn>===</dfn></a>运算符的操作），删除匹配的元素。<br />
　如果是否删除所有为false，则只删除第一个找到的元素。否则，删除所有找到的元素。<br />
</div></div>
<h1><a id="id20" name="id20">insert</a>
</h1><div class="para"><div>
　insert方法在指定位置插入指定值。<br />

<br />
<code class="bq">语法：insert(&lt;位置&gt;,&nbsp;&lt;值&gt;)<br />
</code>
<br />

　在位置指定的索引位置插入值指定的元素。位置之后的元素会依次后移。<br />
</div></div>
<h1><a id="id21" name="id21">add</a>
</h1><div class="para"><div>
　add方法将指定值添加到数组末尾。<br />

<br />
<code class="bq">语法：add(&lt;值&gt;)<br />
</code>
<br />

　将值指定的元素添加到数组末尾。<br />
　此方法返回值被添加的位置。<br />
</div></div>
<h1><a id="id22" name="id22">find</a>
</h1><div class="para"><div>
　find方法返回指定值首次出现的索引。<br />

<br />
<code class="bq">语法：find(&lt;值&gt;,&nbsp;&lt;搜索开始位置=0&gt;)<br />
</code>
<br />

　从搜索开始位置索引开始按顺序查找指定值，返回其首次出现的索引。如果未找到指定值，则返回-1。<br />
　比较使用标识比较（===运算符的操作）。<br />
</div></div>
<h1><a id="id23" name="id23">push</a>
</h1><div class="para"><div>
　push方法将指定元素添加到数组末尾。<br />
　与add方法不同，此方法返回添加后数组的大小。此外，如果指定多个参数，则会按顺序添加所有参数。<br />

<br />
<code class="bq">语法：push(&lt;值&gt;,&nbsp;...)<br />
</code>
<br />

</div></div>
<h1><a id="id24" name="id24">pop</a>
</h1><div class="para"><div>
　pop方法从数组末尾取出一个元素并返回它。取出的元素从数组中删除（数组大小减一）。<br />
　此方法返回取出的元素。如果没有元素，则返回void。<br />

<br />
<code class="bq">语法：pop()<br />
</code>
<br />

</div></div>

<h1><a id="id25" name="id25">unshift</a>
</h1><div class="para"><div>
　unshift方法在数组开头添加元素。如果指定多个元素，可以在开头添加多个元素。这种情况下，例如按a、b、c的顺序传递，则数组开头的元素将按a、b、c的顺序排列。<br />
　此方法返回添加后数组的大小。<br />

<br />
<code class="bq">语法：unshift(&lt;值&gt;,&nbsp;...)<br />
</code>
<br />

</div></div>
<h1><a id="id26" name="id26">shift</a>
</h1><div class="para"><div>
　shift方法从数组开头取出一个元素并返回它。取出的元素从数组中删除（数组大小减一）。<br />
　此方法返回取出的元素。如果没有元素，则返回void。<br />

<br />
<code class="bq">语法：shift()<br />
</code>
<br />

</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
