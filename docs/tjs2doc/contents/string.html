<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<!-- generated by to_html.pl from string.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>字符串操作</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="吉里吉里相关参考用标准样式" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="首页" />
</head>
<body>
<h1><a id="id331" name="id331">字符串操作</a>
</h1><div class="para"><div>
　在TJS2中，字符串被视为伪 <a id="id332" name="id332" class="targanchor"><dfn>String</dfn></a> 类的对象，但实际上String类并不存在，也不是真正意义上的String类对象（不过使用typeof运算符对字符串操作时会返回"String"）。<br />
　但是可以将字符串视为对象，使用一些方法和属性。<br />
</div></div>
<h1><a id="id333" name="id333">length</a>
</h1><div class="para"><div>
　length属性返回字符串的长度。请注意这是一个属性而非方法。另外，不能对此属性赋值。<br />
<br />
　TJS内部使用 <a id="id334" name="id334" class="targanchor"><dfn>UNICODE</dfn></a> 处理所有字符，因此全角字符算作1个字符，半角字符也算作1个字符。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;str&nbsp;=&nbsp;&quot;abc汉字&quot;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;n&nbsp;=&nbsp;str.length;&nbsp;&nbsp;<span class="comment">//&nbsp;n&nbsp;被赋值为&nbsp;5</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;n&nbsp;=&nbsp;&quot;abc汉字&quot;.length;&nbsp;<span class="comment">//&nbsp;同样，n&nbsp;被赋值为&nbsp;5</span><br />
</code>
<br />

</div></div>
<h1><a id="id335" name="id335">'数值'属性</a>
</h1><div class="para"><div>
　通过数值作为属性间接指定，可以访问该位置的字符。<br />
　例如，如果str是一个字符串或表示字符串的表达式，那么str[0]表示第一个字符的字符串。<br />
　如果数值超出字符串长度或为负数，将会产生异常（但字符串最后一个字符将返回空字符）。<br />
<br />
　无法生成赋值表达式。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;str&nbsp;=&nbsp;&quot;abcdef&quot;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;c&nbsp;=&nbsp;str[0];&nbsp;&nbsp;<span class="comment">//&nbsp;'a'&nbsp;被赋值给&nbsp;c</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;c&nbsp;=&nbsp;str[2];&nbsp;&nbsp;<span class="comment">//&nbsp;'c'&nbsp;被赋值给&nbsp;c</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;str[3]&nbsp;=&nbsp;'A';&nbsp;<span class="comment">//&nbsp;无法生成赋值表达式，会产生错误</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;c&nbsp;=&nbsp;str[100];&nbsp;<span class="comment">//&nbsp;c&nbsp;值超出范围，会产生错误</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;c&nbsp;=&nbsp;str[6];&nbsp;<span class="comment">//&nbsp;空字符&nbsp;''&nbsp;被赋值</span><br />
</code>
<br />

</div></div>
<h1><a id="id336" name="id336">charAt</a>
</h1><div class="para"><div>
　charAt方法返回字符串指定位置的字符。其功能与'数值'属性类似，但在超出范围时总是返回空字符串（不会抛出异常）。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;charAt(&lt;字符位置&gt;)<br />
</code>
<br />


<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;str&nbsp;=&nbsp;&quot;abcdef&quot;;
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;c&nbsp;=&nbsp;str.charAt(3);&nbsp;<span class="comment">//&nbsp;'d'&nbsp;被赋值给&nbsp;c</span></code>
<br />

</div></div>
<h1><a id="id337" name="id337">indexOf</a>
</h1><div class="para"><div>
　indexOf方法返回子字符串的位置。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;indexOf(&lt;子字符串&gt;[,&lt;搜索开始位置&gt;])<br />
</code>
<br />

　从字符串的&lt;搜索开始位置&gt;开始搜索&lt;子字符串&gt;，返回第一次出现的位置。返回0表示在字符串开头找到。返回-1表示未找到。如果省略&lt;搜索开始位置&gt;，则从字符串开头开始搜索。<br />
<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;str&nbsp;=&nbsp;&quot;abcdefghijkl&quot;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;n&nbsp;=&nbsp;str.indexOf(&quot;fgh&quot;);&nbsp;<span class="comment">//&nbsp;n&nbsp;被赋值为&nbsp;5</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;n&nbsp;=&nbsp;str.indexOf(&quot;xyz&quot;);&nbsp;<span class="comment">//&nbsp;n&nbsp;被赋值为&nbsp;-1</span><br />
</code>
<br />

</div></div>
<h1><a id="id338" name="id338">toLowerCase</a>
</h1><div class="para"><div>
　此方法不需要参数。<br />
　toLowerCase方法返回将字符串中字母转换为小写的新字符串。<br />
　全角字符不会被转换。<br />
<br />
　这些方法不会影响原始字符串。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;lwr=&quot;ABCDEF&quot;.toLowerCase();&nbsp;<span class="comment">//&nbsp;lwr&nbsp;被赋值为&nbsp;&quot;abcdef&quot;</span><br />
</code>
<br />

<br /><div class="note"><div class="notehead"><span class="noteheadspan">注意</span></div>
　当前版本的TJS2仅对字符代码小于0x80的字符进行转换。<br />
</div><br />
</div></div>
<h1><a id="id339" name="id339">toUpperCase</a>
</h1><div class="para"><div>
　此方法与toLowerCase相反，返回将小写字母转换为大写的字符串。<br />
</div></div>

<h1><a id="id340" name="id340">substring</a>
</h1><div class="para"><div>
　substring方法返回字符串的子字符串。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;substring(&lt;开始字符位置&gt;[,&lt;字符数&gt;])</code>
<br />

　返回从字符串的&lt;开始字符位置&gt;开始，长度为&lt;字符数&gt;的子字符串。不会影响原始字符串。如果省略&lt;字符数&gt;，则返回从&lt;开始字符位置&gt;到字符串末尾的全部内容。<br />
　注意，此方法与JavaScript中同名方法的参数含义不同。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ss=&quot;abcdefghijkl&quot;.substring(3,3);&nbsp;<span class="comment">//&nbsp;ss&nbsp;被赋值为&nbsp;&quot;def&quot;</span></code>
<br />

</div></div>
<h1><a id="id341" name="id341">substr</a>
</h1><div class="para"><div>
　与substring相同。<br />
</div></div>
<h1><a id="id342" name="id342">sprintf</a>
</h1><div class="para"><div>
　sprintf方法格式化字符串。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;sprintf(参数,&nbsp;参数,&nbsp;....)<br />
</code>
<br />

　将字符串视为格式字符串，类似于C语言中的sprintf进行文本格式化，并返回格式化后的字符串。不会影响原始字符串。<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;formatted&nbsp;=&nbsp;&quot;%04X&nbsp;%c&nbsp;%5d&quot;.sprintf(v1,&nbsp;v2,&nbsp;dic[v1]);</code>
<br />

</div></div>

<h1><a id="id343" name="id343">replace</a>
</h1><div class="para"><div>
　replace方法用于替换字符串内容。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;replace(&lt;模式&gt;,&nbsp;&lt;替换后字符串&gt;)</code>
<br />

　根据正则表达式模式进行字符串替换，并返回替换后的字符串。不会影响原始字符串。<br />
　关于具体操作，请参考 <a target="main" class="jump" href="regexp.html">RegExp 类</a> 的replace方法。<br />
</div></div>
<h1><a id="id344" name="id344">split</a>
</h1><div class="para"><div>
　split方法用于分割字符串。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;split(&lt;模式/分隔符集合&gt;,&nbsp;&lt;(预留)&gt;,&nbsp;&lt;是否忽略空元素=false&gt;)</code>
<br />

　返回包含分割结果的数组对象。<br />
<br />
　另请参考 <a target="main" class="jump" href="array.html">Array类</a> 的split方法（注意参数顺序）。<br />
</div></div>
<h1><a id="id345" name="id345">escape</a>
</h1><div class="para"><div>
　escape方法将字符串转换为在TJS字符串字面值中可表示的形式。所有特殊符号如\和"等都会使用\符号进行转义，以避免被解释为特殊用途。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;escape()</code>
<br />

　返回转义后的字符串。不会影响原始字符串。<br />
<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;escaped&nbsp;=&nbsp;str.escape();&nbsp;<span class="comment">//&nbsp;str&nbsp;中的&nbsp;&quot;&nbsp;被转换为&nbsp;\&quot;，\&nbsp;被转换为&nbsp;\\&nbsp;等</span><br />
</code>
<br />

</div></div>
<h1><a id="id346" name="id346">trim</a>
</h1><div class="para"><div>
　trim方法返回去除字符串开头和结尾空白的字符串。不会影响原始字符串。<br />
　开头和结尾的空白是指字符代码为U+0001～U+0020的字符。也就是说，包括ASCII控制字符，但不包括所谓的全角空格。<br />
　如果开头或结尾连续存在这些空白，则全部被去除。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;trim()</code>
<br />

　返回去除开头和结尾空白字符的字符串。不会影响原始字符串。<br />
<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;str&nbsp;=&nbsp;&quot;&nbsp;&nbsp;Hoge&nbsp;&quot;.trim();&nbsp;<span class="comment">//&nbsp;str&nbsp;是&nbsp;&quot;Hoge&quot;</span><br />
</code>
<br />

</div></div>
<h1><a id="id347" name="id347">reverse</a>
</h1><div class="para"><div>
　reverse方法返回字符顺序反转后的字符串。不会影响原始字符串。<br />
　当前版本的TJS2不保证包含UTF-16代理对的字符串的操作正确性。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;reverse()</code>
<br />

　返回字符顺序反转后的字符串。不会影响原始字符串。<br />
<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;str&nbsp;=&nbsp;&quot;Hoge&quot;.reverse();&nbsp;<span class="comment">//&nbsp;str&nbsp;是&nbsp;&quot;egoH&quot;</span></code>
<br />

</div></div>
<h1><a id="id348" name="id348">repeat</a>
</h1><div class="para"><div>
　repeat方法返回指定次数重复的字符串。不会影响原始字符串。<br />

<br />
<code class="bq">语法&nbsp;:&nbsp;repeat(count)</code>
<br />

　返回将此字符串重复count次的字符串。不会影响原始字符串。<br />
<br />

<br />
<code class="bq"><span class="weak">例:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;str&nbsp;=&nbsp;&quot;Hoge&quot;.repeat(3);&nbsp;<span class="comment">//&nbsp;str&nbsp;是&nbsp;&quot;HogeHogeHoge&quot;</span></code>
<br />

</div></div>

	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>
